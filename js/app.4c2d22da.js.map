{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/NetworkVisComponent.vue?87f9","webpack:///./src/components/SearchPanel.vue?c613","webpack:///./src/components/SuggestedPublicationsComponent.vue?596d","webpack:///./src/components/KeyboardControlsPage.vue?afd4","webpack:///./src/App.vue","webpack:///./src/components/HeaderPanel.vue","webpack:///src/components/HeaderPanel.vue","webpack:///./src/components/HeaderPanel.vue?e8bd","webpack:///./src/components/HeaderPanel.vue?25f1","webpack:///./src/components/SelectedPublicationsComponent.vue","webpack:///./src/components/PublicationListComponent.vue","webpack:///./src/Util.js","webpack:///./src/components/PublicationComponent.vue","webpack:///src/components/PublicationComponent.vue","webpack:///./src/components/PublicationComponent.vue?3ced","webpack:///./src/components/PublicationComponent.vue?fadc","webpack:///src/components/PublicationListComponent.vue","webpack:///./src/components/PublicationListComponent.vue?079b","webpack:///./src/components/PublicationListComponent.vue?d3aa","webpack:///./src/Cache.js","webpack:///./src/PublicationQuery.js","webpack:///src/components/SelectedPublicationsComponent.vue","webpack:///./src/components/SelectedPublicationsComponent.vue?247f","webpack:///./src/components/SelectedPublicationsComponent.vue?c283","webpack:///./src/components/SuggestedPublicationsComponent.vue","webpack:///src/components/SuggestedPublicationsComponent.vue","webpack:///./src/components/SuggestedPublicationsComponent.vue?b83f","webpack:///./src/components/SuggestedPublicationsComponent.vue?0a53","webpack:///./src/components/NetworkVisComponent.vue","webpack:///src/components/NetworkVisComponent.vue","webpack:///./src/components/NetworkVisComponent.vue?715e","webpack:///./src/components/NetworkVisComponent.vue?c3ab","webpack:///./src/components/QuickAccessBar.vue","webpack:///src/components/QuickAccessBar.vue","webpack:///./src/components/QuickAccessBar.vue?b569","webpack:///./src/components/QuickAccessBar.vue?768b","webpack:///./src/components/SearchPanel.vue","webpack:///./src/PublicationSearch.js","webpack:///src/components/SearchPanel.vue","webpack:///./src/components/SearchPanel.vue?88f1","webpack:///./src/components/SearchPanel.vue?3a1b","webpack:///./src/components/AboutPage.vue","webpack:///./src/components/AboutPage.vue?758b","webpack:///./src/components/KeyboardControlsPage.vue","webpack:///./src/components/KeyboardControlsPage.vue?48bd","webpack:///./src/Publication.js","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue?3746","webpack:///./src/main.js","webpack:///./src/components/QuickAccessBar.vue?a0bb","webpack:///./src/components/AboutPage.vue?10ed","webpack:///./src/components/SelectedPublicationsComponent.vue?a458","webpack:///./src/App.vue?2be8","webpack:///./src/components/PublicationComponent.vue?274b","webpack:///./src/components/HeaderPanel.vue?c4a3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","isMobile","selectedPublications","excludedPublicationsDois","size","on","exportSession","exportAllBibtex","clearSession","clearCache","$event","isAboutPageShown","isKeyboardControlsShown","class","isNetworkExpanded","clearActivePublication","ref","addPublicationsToSelection","startSearchingSelected","endLoading","openSearch","removePublication","activatePublicationComponentByDoi","showAbstract","exportSingleBibtex","updateBoost","loadExample","importSession","suggestion","loadMoreSuggestions","publications","staticClass","model","isSearchPanelShown","callback","$$v","expression","searchQuery","selectedPublicationsDois","notifySearchEmpty","staticRenderFns","scopedSlots","_u","fn","domProps","_s","$appNameHtml","proxy","directives","rawName","selectedPublicationsCount","excludedPublicationsCount","$emit","_v","$appSubtitle","_m","props","component","boostKeywordString","type","indexOf","_k","keyCode","arguments","target","composing","stopPropagation","clearBoost","preventDefault","add","addQuery","noPublicationWarning","activatePublication","_l","publication","doi","addPublication","saveAsFile","filename","blob","Blob","navigator","msSaveOrOpenBlob","msSaveBlob","elem","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","scrollToTargetAdjusted","element","offsetY","elementPosition","getBoundingClientRect","top","offsetPosition","pageYOffset","scrollTo","behavior","shuffle","array","seed","random","x","Math","sin","floor","active","isActive","selected","isSelected","linkedToActive","isLinkedToActive","unread","isRead","style","scoreColor","score","boostFactor","boostIndicatorSize","chevronOffset","chevronType","_e","citationCount","referenceDois","referenceCount","boostMatches","title","titleHighlighted","authorShort","year","isHighlyCited","isSurvey","isNew","author","authorOrcid","endsWith","refocus","container","doiUrl","toLocaleString","citationDois","citationsPerYear","toFixed","abstract","oaLink","gsUrl","exportBibtex","computed","width","height","position","methods","components","PublicationComponent","watch","deep","handler","onNextActivatedScroll","scrollToActivated","publicationComponent","block","inline","cachedFetch","url","processData","JSON","parse","LZString","decompress","localStorage","Error","fetch","response","ok","status","json","compress","stringify","error","console","log","randomStoredUrl","keys","removeItem","error2","clear","minSimilarityDifference","PublicationQuery","query","dois","ambiguousResult","split","forEach","_","trim","simplifiedQuery","replace","toLowerCase","maxSimilarity","maxTitle","message","items","filter","item","subtitle","similarity","computeTitleSimilarity","similarityDifference","DOI","stopwords","equivalentWordCounter","wordCounter","normalizedTitle","word","PublicationListComponent","publicationQuery","ambiguous","setBoost","onConfirm","unreadSuggestionsCount","totalSuggestions","isClusters","isExpanded","suggestedPublications","graph","nodes","links","simulation","svg","svgHeight","svgWidth","yearMin","yearMax","node","link","label","mounted","d3","that","append","initForces","force","id","distance","strength","y","plot","factor","concat","doiToIndex","source","join","attr","g","tippy","maxWidth","select","text","yearRange","selectAll","tick","dy","dr","yearX","event","toggleMode","search","filteredSearchResults","createShortReference","map","family","isLoading","PublicationSearch","results","initialSearchQuery","searchResults","setTimeout","publicationSearch","$version","script","Publication","undefined","volume","issue","page","mappedWord","TITLE_WORD_MAP","charAt","toUpperCase","authorArray","source_title","test","match","oa_link","reference","referenceDoi","citation","citationDoi","max","CURRENT_YEAR","exec","replaceAll","cleanedTitle","boostKeywords","titleFragments","boostKeyword","titleFragment","index","substring","flat","lightness","bibString","updateLoadingToast","maxSuggestions","incrementSuggestedPublicationCounter","counter","doiList","sourceDoi","has","citingPublication","values","updateScore","filteredSuggestions","sort","a","b","publicationsLoadedCount","Promise","all","suggestedPublication","fetchData","sortPublications","publicationList","Date","getFullYear","HeaderPanel","SelectedPublicationsComponent","SuggestedPublicationsComponent","NetworkVisComponent","QuickAccessBar","SearchPanel","AboutPage","KeyboardControlsPage","readPublicationsDois","activePublication","loadingComponent","isOverlay","addedPublicationsCount","addedDoi","updateSuggestions","publicationsLoaded","preventUpdateSuggestions","setBoostKeywords","setActivePublication","selectedPublication","activatePublicationComponent","startLoading","indefinite","duration","_this","hasIcon","icon","confirmText","canCancel","onCancel","excluded","boost","fileReader","loadSession","showErrorMessage","e","getElementById","getElementsByClassName","activePublicationComponent","beforeDestroy","Vue","use","Buefy","defaultIconPack","VueTippy","TippyComponent","config","productionTip","$appName","version","h","App","$mount"],"mappings":"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ACA,eACA,gBACA,iBACA,SACA,oDAGAA,iBAGA/W,2BACA,8CAGAiB,+BACA,wBAGAiI,yBACA,SACA0L,WACA,6CAEAtQ,yBAGArE,wBAAA,WACA,kBACA,4BACAuM,QACA,mFACAkB,qBACAnM,MACA,0BACA,mCACA,+BACA,uBACA,sBACA,gBAEAqV,oBACA,mBAKA1W,sBACAA,IACA,qBAGA8W,wBACA7L,0DACA,eAIA,SACA,+BAEA,aACA,mDAEA,6CATA,+DAYAhK,uBACA,OACAyF,UACA,4BACA,4BACA,qBAEAkQ,kBAEA,qBAGAG,6BACA,wBACAX,aACA9J,UACApJ,mBAEA+H,mBAIAyD,QArYA,WAsYA,8BACA,KACAsI,WACAA,YACAA,WACAA,kDAGA,GACA,gBACA,gBACA,wBACApS,0CACA,uBACA,6BAEAoS,wBAEA,8CACA,oBAGA,OAFApS,mCAIA,eACAoS,mBACA,yBACA,oBACAA,mBACApS,8BACA,+CACA,eACAoS,mBACA,2DACApS,yEACA,eACAoS,mBACA,gCACA,eACAA,mBACA,2DACApS,+DACA,eACAoS,mBACA,qCACA,uBACAA,mBACA,kCACApS,SACAqS,eAAA,YACAC,uBAAA,kCAEA,wBACAF,mBACA,kCACApS,SACAqS,eAAA,aACAC,uBAAA,kCAEA,0BACA,2CACAF,mBACA,sCACA,gCACA,GACA,kCACAA,oBACAG,cACAA,uBAEA,aACAH,mBACA,6DACA,aACAA,mBACA,oDACA,aACAA,mBACAjY,4CACA,8CACAiY,mBACA,2CACA,4CACAA,mBACAjY,4CACA,aACAiY,mBACAjY,2CACA,cACAiY,mBACA,kDAKApS,mEAGAwS,cAxeA,WAyeAxS,4DAKA7F,OAAOA,eAAiBA,WACxB,UAGA,UC/kB8T,MCQ1T,I,UAAY,eACd,GACA,EACAgD,GACA,EACA,KACA,KACA,OAIa,M,2DCbfsV,OAAIC,IAAIC,QAAO,CAAEC,gBAAiB,QAGlCH,OAAIC,IAAIG,QAAU,CAChB5H,SAAU,oBAGZwH,OAAIrU,UAAU,QAAS0U,SAEvBL,OAAIM,OAAOC,eAAgB,EAE3BP,OAAItb,UAAU8b,SAAW,eACzBR,OAAItb,UAAUsG,aAAe,6FAC7BgV,OAAItb,UAAU8G,aAAe,mCAC7BwU,OAAItb,UAAUqV,SAAW0G,QAEzB,IAAIT,OAAI,CACNnY,OAAQ,SAAA6Y,GAAC,OAAIA,EAAEC,OACdC,OAAO,S,kCCxBV,W,sFCAA,W,0FCAA,W,kCCAA,W,kCCAA,W,gFCAA,W","file":"js/app.4c2d22da.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/pure-suggest/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkVisComponent.vue?vue&type=style&index=0&id=0e54d7c0&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=style&index=0&id=7ffd2624&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuggestedPublicationsComponent.vue?vue&type=style&index=0&id=0d7655ff&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardControlsPage.vue?vue&type=style&index=0&id=5a462f7a&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('HeaderPanel',{attrs:{\"id\":\"header\",\"isMobile\":_vm.isMobile,\"selectedPublicationsCount\":_vm.selectedPublications.length,\"excludedPublicationsCount\":_vm.excludedPublicationsDois.size},on:{\"exportSession\":_vm.exportSession,\"exportBibtex\":_vm.exportAllBibtex,\"clearSession\":_vm.clearSession,\"clearCache\":_vm.clearCache,\"openAbout\":function($event){_vm.isAboutPageShown = true},\"openKeyboardControls\":function($event){_vm.isKeyboardControlsShown = true}}}),_c('div',{class:{ 'network-expanded': _vm.isNetworkExpanded },attrs:{\"id\":\"main\"},on:{\"click\":function($event){return _vm.clearActivePublication('clicked anywhere')}}},[_c('SelectedPublicationsComponent',{ref:\"selected\",attrs:{\"id\":\"selected\",\"publications\":_vm.selectedPublications},on:{\"add\":_vm.addPublicationsToSelection,\"startSearching\":_vm.startSearchingSelected,\"searchEndedWithoutResult\":_vm.endLoading,\"openSearch\":_vm.openSearch,\"remove\":_vm.removePublication,\"activate\":_vm.activatePublicationComponentByDoi,\"showAbstract\":_vm.showAbstract,\"exportSingleBibtex\":_vm.exportSingleBibtex,\"updateBoost\":_vm.updateBoost,\"loadExample\":_vm.loadExample,\"importSession\":_vm.importSession}}),_c('SuggestedPublicationsComponent',{ref:\"suggested\",attrs:{\"id\":\"suggested\",\"suggestion\":_vm.suggestion},on:{\"add\":_vm.addPublicationsToSelection,\"remove\":_vm.removePublication,\"activate\":_vm.activatePublicationComponentByDoi,\"showAbstract\":_vm.showAbstract,\"exportSingleBibtex\":_vm.exportSingleBibtex,\"loadMore\":_vm.loadMoreSuggestions}}),_c('NetworkVisComponent',{ref:\"network\",attrs:{\"id\":\"network\",\"selectedPublications\":_vm.selectedPublications,\"suggestedPublications\":_vm.suggestion ? _vm.suggestion.publications : [],\"isExpanded\":_vm.isNetworkExpanded,\"svgWidth\":1500,\"svgHeight\":600},on:{\"activate\":_vm.activatePublicationComponentByDoi,\"expand\":function($event){_vm.isNetworkExpanded = true},\"collapse\":function($event){_vm.isNetworkExpanded = false}}})],1),_c('QuickAccessBar',{staticClass:\"is-hidden-desktop\",attrs:{\"id\":\"quick-access\"}}),_c('b-modal',{model:{value:(_vm.isSearchPanelShown),callback:function ($$v) {_vm.isSearchPanelShown=$$v},expression:\"isSearchPanelShown\"}},[_c('SearchPanel',{attrs:{\"initialSearchQuery\":_vm.searchQuery,\"selectedPublicationsDois\":_vm.selectedPublicationsDois},on:{\"add\":_vm.addPublicationsToSelection,\"searchEmpty\":_vm.notifySearchEmpty}})],1),_c('b-modal',{model:{value:(_vm.isAboutPageShown),callback:function ($$v) {_vm.isAboutPageShown=$$v},expression:\"isAboutPageShown\"}},[_c('AboutPage')],1),_c('b-modal',{model:{value:(_vm.isKeyboardControlsShown),callback:function ($$v) {_vm.isKeyboardControlsShown=$$v},expression:\"isKeyboardControlsShown\"}},[_c('KeyboardControlsPage')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box p-0 m-0 is-radiusless\"},[_c('b-navbar',{staticClass:\"box p-0 m-0 is-radiusless\",attrs:{\"fixed-top\":_vm.isMobile},scopedSlots:_vm._u([{key:\"brand\",fn:function(){return [_c('b-navbar-item',[_c('b-icon',{staticClass:\"has-text-grey\",attrs:{\"icon\":\"water-plus-outline\",\"size\":\"is-medium\"}}),_c('h1',{staticClass:\"title ml-2\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$appNameHtml)}})])],1)]},proxy:true},{key:\"start\",fn:function(){return [_c('b-navbar-dropdown',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPublicationsCount),expression:\"selectedPublicationsCount\"}],attrs:{\"label\":`Session (${_vm.selectedPublicationsCount} selected${\r\n            _vm.excludedPublicationsCount\r\n              ? `; ${_vm.excludedPublicationsCount} excluded`\r\n              : ''\r\n          })`}},[_c('b-navbar-item',{on:{\"click\":function($event){return _vm.$emit('exportSession')}}},[_c('b-icon',{attrs:{\"icon\":\"export\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Export session as JSON\")])],1),_c('b-navbar-item',{on:{\"click\":function($event){return _vm.$emit('exportBibtex')}}},[_c('b-icon',{attrs:{\"icon\":\"export\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Export selected as BibTeX\")])],1),_c('b-navbar-item',{staticClass:\"has-text-danger\",on:{\"click\":function($event){return _vm.$emit('clearSession')}}},[_c('b-icon',{attrs:{\"icon\":\"delete\"}}),_c('span',{staticClass:\"ml-2\"},[_c('span',{staticClass:\"key\"},[_vm._v(\"C\")]),_vm._v(\"lear session\")])],1)],1)]},proxy:true},{key:\"end\",fn:function(){return [_c('b-navbar-dropdown',{attrs:{\"label\":\"⋮\",\"icon-left\":\"dots-vertical\",\"right\":\"\",\"collapsible\":\"\"}},[_c('b-navbar-item',{staticClass:\"is-hidden-touch\",on:{\"click\":function($event){return _vm.$emit('openKeyboardControls')}}},[_vm._v(\"Keyboard controls\")]),_c('b-navbar-item',{on:{\"click\":function($event){return _vm.$emit('openAbout')}}},[_vm._v(\"About\")]),_c('b-navbar-item',{staticClass:\"has-text-danger\",on:{\"click\":function($event){return _vm.$emit('clearCache')}}},[_c('b-icon',{attrs:{\"icon\":\"cached\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Clear cache (and session)\")])],1)],1)]},proxy:true}])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPublicationsCount === 0),expression:\"selectedPublicationsCount === 0\"}],staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"subtitle level-item mt-2\"},[_vm._v(\" \"+_vm._s(this.$appSubtitle)+\" \")])]),_c('div',{staticClass:\"column is-three-quarters\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPublicationsCount === 0),expression:\"selectedPublicationsCount === 0\"}],staticClass:\"notification has-text-centered p-2\"},[_vm._m(0)])])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" Based on a set of selected publications, \"),_c('b',{staticClass:\"has-text-info\"},[_vm._v(\"suggest\")]),_vm._v(\"ing related \"),_c('b',{staticClass:\"has-text-primary\"},[_vm._v(\"pu\")]),_vm._v(\"blications connected by \"),_c('b',{staticClass:\"has-text-primary\"},[_vm._v(\"re\")]),_vm._v(\"ferences. \")])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box p-0 m-0 is-radiusless\">\r\n    <b-navbar :fixed-top=\"isMobile\" class=\"box p-0 m-0 is-radiusless\">\r\n      <template #brand>\r\n        <b-navbar-item>\r\n          <b-icon\r\n            icon=\"water-plus-outline\"\r\n            size=\"is-medium\"\r\n            class=\"has-text-grey\"\r\n          ></b-icon>\r\n          <h1 class=\"title ml-2\">\r\n            <span v-html=\"$appNameHtml\"></span>\r\n          </h1>\r\n        </b-navbar-item>\r\n      </template>\r\n      <template #start>\r\n        <b-navbar-dropdown\r\n          :label=\"`Session (${selectedPublicationsCount} selected${\r\n            excludedPublicationsCount\r\n              ? `; ${excludedPublicationsCount} excluded`\r\n              : ''\r\n          })`\"\r\n          v-show=\"selectedPublicationsCount\"\r\n        >\r\n          <b-navbar-item @click=\"$emit('exportSession')\">\r\n            <b-icon icon=\"export\"></b-icon>\r\n            <span class=\"ml-2\">Export session as JSON</span>\r\n          </b-navbar-item>\r\n          <b-navbar-item @click=\"$emit('exportBibtex')\">\r\n            <b-icon icon=\"export\"></b-icon>\r\n            <span class=\"ml-2\">Export selected as BibTeX</span>\r\n          </b-navbar-item>\r\n          <b-navbar-item\r\n            @click=\"$emit('clearSession')\"\r\n            class=\"has-text-danger\"\r\n          >\r\n            <b-icon icon=\"delete\"></b-icon\r\n            ><span class=\"ml-2\"><span class=\"key\">C</span>lear session</span>\r\n          </b-navbar-item>\r\n        </b-navbar-dropdown>\r\n      </template>\r\n      <template #end>\r\n        <b-navbar-dropdown\r\n          label=\"⋮\"\r\n          icon-left=\"dots-vertical\"\r\n          right\r\n          collapsible\r\n        >\r\n          <b-navbar-item\r\n            @click=\"$emit('openKeyboardControls')\"\r\n            class=\"is-hidden-touch\"\r\n            >Keyboard controls</b-navbar-item\r\n          >\r\n          <b-navbar-item @click=\"$emit('openAbout')\">About</b-navbar-item>\r\n          <b-navbar-item @click=\"$emit('clearCache')\" class=\"has-text-danger\">\r\n            <b-icon icon=\"cached\"></b-icon\r\n            ><span class=\"ml-2\">Clear cache (and session)</span>\r\n          </b-navbar-item>\r\n        </b-navbar-dropdown>\r\n      </template>\r\n    </b-navbar>\r\n    <div class=\"columns\" v-show=\"selectedPublicationsCount === 0\">\r\n      <div class=\"column\">\r\n        <div class=\"subtitle level-item mt-2\">\r\n          {{ this.$appSubtitle }}\r\n        </div>\r\n      </div>\r\n      <div class=\"column is-three-quarters\">\r\n        <div\r\n          class=\"notification has-text-centered p-2\"\r\n          v-show=\"selectedPublicationsCount === 0\"\r\n        >\r\n          <p>\r\n            Based on a set of selected publications,\r\n            <b class=\"has-text-info\">suggest</b>ing related\r\n            <b class=\"has-text-primary\">pu</b>blications connected by\r\n            <b class=\"has-text-primary\">re</b>ferences.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HeaderPanel\",\r\n  props: {\r\n    isMobile: Boolean,\r\n    selectedPublicationsCount: Number,\r\n    excludedPublicationsCount: Number,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~bulma/sass/utilities/_all\";\r\n\r\n.title {\r\n  font-size: $size-4;\r\n}\r\n\r\n.subtitle {\r\n  font-size: $size-5;\r\n}\r\n\r\n.columns {\r\n  & .column {\r\n    margin: $block-spacing;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderPanel.vue?vue&type=template&id=df3df0ae&scoped=true&\"\nimport script from \"./HeaderPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeaderPanel.vue?vue&type=style&index=0&id=df3df0ae&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df3df0ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"selected-publications box has-background-primary\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left has-text-white\"},[_c('div',{staticClass:\"level-item\"},[_c('b-icon',{attrs:{\"icon\":\"water-outline\"}}),_c('h2',{staticClass:\"is-size-5 ml-2\"},[_vm._v(\"Selected\")]),_c('b-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.publications.length),expression:\"publications.length\"},{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ml-2\",attrs:{\"icon\":\"information-outline\",\"size\":\"is-small\",\"data-tippy-content\":\"The <b>publications selected as seeds</b> for computing the suggestions, sorted by score.\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.publications.length),expression:\"publications.length\"}],staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field has-addons\"},[_c('p',{staticClass:\"control has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.boostKeywordString),expression:\"boostKeywordString\"},{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"input boost has-background-warning-light\",attrs:{\"type\":\"text\",\"placeholder\":\"keyword(s)\",\"data-tippy-content\":\"Boost by factors of 2 the score of publications that contain the following keyword(s) in their title.<br><br>Use commas to separate multiple keywords.\"},domProps:{\"value\":(_vm.boostKeywordString)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.updateBoost.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.boostKeywordString=$event.target.value}}}),_c('span',{staticClass:\"icon is-small is-right is-clickable\"},[_c('i',{staticClass:\"delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.clearBoost.apply(null, arguments)}}})])]),_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"button has-background-warning\",attrs:{\"type\":\"submit\",\"icon-left\":\"chevron-double-up\"},on:{\"click\":_vm.updateBoost}},[_c('span',[_c('span',{staticClass:\"key\"},[_vm._v(\"B\")]),_vm._v(\"oost\")])])],1)])])])]),_c('form',{staticClass:\"field has-addons\",on:{\"submit\":function($event){$event.preventDefault();return _vm.add.apply(null, arguments)}}},[_c('p',{staticClass:\"control is-expanded\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addQuery),expression:\"addQuery\"},{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"input add-publication\",attrs:{\"type\":\"text\",\"placeholder\":\"DOI(s)/title or search\",\"data-tippy-content\":\"One or more <b>DOIs</b> (separated by different characters or included in a different format such as BibTeX).<br/>Alternatively, <b>paper title</b> or a unique part of it (only works for one publication)\"},domProps:{\"value\":(_vm.addQuery)},on:{\"input\":function($event){if($event.target.composing)return;_vm.addQuery=$event.target.value}}})]),_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"button level-right has-background-primary-light is-hidden-touch\",attrs:{\"type\":\"submit\",\"icon-left\":\"plus-thick\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.add.apply(null, arguments)}}},[_c('span',{staticClass:\"key\"},[_vm._v(\"A\")]),_vm._v(\"dd \")]),_c('b-button',{staticClass:\"button level-right has-background-primary-light is-hidden-desktop\",attrs:{\"type\":\"submit\",\"icon-left\":\"plus-thick\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.add.apply(null, arguments)}}})],1),_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"button level-right has-background-primary-light ml-1 is-hidden-touch\",attrs:{\"type\":\"submit\",\"icon-left\":\"magnify\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openSearch(false)}}},[_c('span',{staticClass:\"key\"},[_vm._v(\"S\")]),_vm._v(\"earch\")]),_c('b-button',{staticClass:\"button level-right has-background-primary-light ml-1 is-hidden-desktop\",attrs:{\"type\":\"submit\",\"icon-left\":\"magnify\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openSearch(false)}}})],1)]),_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.publications.length === 0),expression:\"publications.length === 0\"}],staticClass:\"notification has-text-centered has-background-primary-light p-2\"},[_c('p',[_vm._v(\" To start, \"),_c('b',[_c('b-icon',{attrs:{\"icon\":\"plus-thick\",\"size\":\"is-small\"}}),_vm._v(\" add\")],1),_vm._v(\" publications through a \"),_c('b',[_vm._v(\"title\")]),_vm._v(\" or \"),_c('b',[_vm._v(\"DOI(s)\")]),_vm._v(\" (\"),_c('a',{attrs:{\"href\":\"https://www.doi.org/\"}},[_vm._v(\"Document Object Intentfier\")]),_vm._v(\"), \"),_c('br'),_c('b',[_c('b-icon',{attrs:{\"icon\":\"magnify\",\"size\":\"is-small\"}}),_vm._v(\" search\")],1),_vm._v(\" using \"),_c('b',[_vm._v(\"keywords\")]),_vm._v(\", or: \")]),_c('div',{staticClass:\"level mt-2\"},[_c('div',{staticClass:\"level-item\"},[_c('b-button',{staticClass:\"button has-background-primary-light\",attrs:{\"icon-left\":\"file-document\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('loadExample')}}},[_vm._v(\" Load example \")])],1),_c('div',{staticClass:\"level-item\"},[_c('b-button',{staticClass:\"button has-background-primary-light\",attrs:{\"icon-left\":\"import\"},on:{\"click\":_vm.importSession}},[_vm._v(\" Import session from JSON \")])],1)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noPublicationWarning),expression:\"noPublicationWarning\"}],staticClass:\"notification has-background-danger-light has-text-danger-dark mb-2 p-2\"},[_c('button',{staticClass:\"delete\",on:{\"click\":function($event){$event.stopPropagation();_vm.noPublicationWarning = false}}}),_vm._v(\" Cannot find a publication with this or similar title. \")])]),_c('PublicationListComponent',{attrs:{\"publications\":_vm.publications},on:{\"activate\":_vm.activatePublication,\"remove\":_vm.removePublication,\"showAbstract\":_vm.showAbstract,\"exportSingleBibtex\":_vm.exportSingleBibtex}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"publication-list has-background-white\"},_vm._l((_vm.publications),function(publication){return _c('PublicationComponent',{key:publication.doi,attrs:{\"publication\":publication,\"suggestion\":_vm.suggestion},on:{\"add\":_vm.addPublication,\"remove\":_vm.removePublication,\"activate\":_vm.activatePublication,\"showAbstract\":_vm.showAbstract,\"exportBibtex\":_vm.exportSingleBibtex}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server?answertab=active#tab-top\r\nexport function saveAsFile(filename, data) {\r\n  const blob = new Blob([data], { type: \"text/csv\" });\r\n  if (window.navigator.msSaveOrOpenBlob) {\r\n    window.navigator.msSaveBlob(blob, filename);\r\n  } else {\r\n    const elem = window.document.createElement(\"a\");\r\n    elem.href = window.URL.createObjectURL(blob);\r\n    elem.download = filename;\r\n    document.body.appendChild(elem);\r\n    elem.click();\r\n    document.body.removeChild(elem);\r\n  }\r\n}\r\n\r\n// https://stackoverflow.com/questions/49820013/javascript-scrollintoview-smooth-scroll-and-offset\r\nexport function scrollToTargetAdjusted(element, offsetY) {\r\n  var elementPosition = element.getBoundingClientRect().top;\r\n  var offsetPosition = elementPosition + window.pageYOffset - offsetY;\r\n\r\n  window.scrollTo({\r\n    top: offsetPosition,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n\r\n// https://stackoverflow.com/questions/16801687/javascript-random-ordering-with-seed\r\nexport function shuffle(array, seed) {\r\n\r\n  function random(seed) {\r\n    var x = Math.sin(seed++) * 10000;\r\n    return x - Math.floor(x);\r\n  }\r\n\r\n  var m = array.length, t, i;\r\n  while (m) {\r\n    i = Math.floor(random(seed) * m--);\r\n    t = array[m];\r\n    array[m] = array[i];\r\n    array[i] = t;\r\n    ++seed\r\n  }\r\n  return array;\r\n}\r\n\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{staticClass:\"publication-component media\",class:{\r\n      active: _vm.publication.isActive,\r\n      selected: _vm.publication.isSelected,\r\n      linkedToActive: _vm.publication.isLinkedToActive,\r\n      unread: !_vm.publication.isRead && !_vm.publication.isSelected,\r\n    },attrs:{\"id\":_vm.publication.doi,\"tabindex\":\"0\"},on:{\"focus\":function($event){return _vm.$emit('activate', _vm.publication.doi)},\"click\":function($event){$event.stopPropagation();return _vm.$emit('activate', _vm.publication.doi)}}},[_c('tippy',{staticClass:\"glyph\",scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('div',{staticClass:\"media-left has-text-centered\",style:({ 'background-color': _vm.publication.scoreColor })},[_c('div',{staticClass:\"tooltip-target\"},[_c('div',{staticClass:\"is-size-3 is-inline-block\"},[_vm._v(_vm._s(_vm.publication.score))]),(_vm.publication.boostFactor > 1)?_c('div',{staticClass:\"boost-indicator has-background-warning is-size-5 is-inline-block ml-1\",style:(_vm.boostIndicatorSize)},[_c('b-icon',{style:(_vm.chevronOffset),attrs:{\"icon\":_vm.chevronType,\"size\":\"is-small\"}})],1):_vm._e()]),_c('div',{staticClass:\"reference-counts is-size-6\"},[_c('div',{staticClass:\"is-pulled-left\"},[(\r\n                  _vm.publication.citationCount > 0 ||\r\n                  _vm.publication.referenceDois.length === 0\r\n                )?_c('span',{class:_vm.publication.referenceDois.length ? '' : 'unknown'},[_c('b-icon',{attrs:{\"icon\":\"arrow-bottom-left-thick\",\"size\":\"is-small\"}}),_vm._v(\" \"+_vm._s(_vm.publication.citationCount ? _vm.publication.citationCount : \"-\")+\" \")],1):_vm._e()]),_c('div',{staticClass:\"is-pulled-right\"},[(_vm.publication.referenceCount > 0)?_c('span',[_vm._v(\" \"+_vm._s(_vm.publication.referenceCount)+\" \"),_c('b-icon',{attrs:{\"icon\":\"arrow-top-left-thick\",\"size\":\"is-small\"}})],1):_vm._e()])])])]},proxy:true}])},[_c('div',[_vm._v(\" Suggestion score of \"),_c('b',[_vm._v(_vm._s(_vm.publication.score)+\" = \"),(_vm.publication.boostFactor != 1)?_c('span',[_vm._v(\"(\")]):_vm._e(),_vm._v(_vm._s(_vm.publication.citationCount)+\" + \"+_vm._s(_vm.publication.referenceCount)),(_vm.publication.boostFactor != 1)?_c('span',[_vm._v(\") · \"+_vm._s(_vm.publication.boostFactor))]):_vm._e()]),_vm._v(\",\"),_c('br'),_vm._v(\" citing \"),_c('b',[_vm._v(_vm._s(_vm.publication.citationCount))]),_vm._v(\" (\"),_c('b-icon',{class:_vm.publication.referenceDois.length ? '' : 'unknown',attrs:{\"icon\":\"arrow-bottom-left-thick\",\"size\":\"is-small\"}}),(!_vm.publication.referenceDois.length)?_c('span',{staticClass:\"unknown\"},[_vm._v(\", citing data not available\")]):_vm._e(),_vm._v(\") and cited by \"),_c('b',[_vm._v(_vm._s(_vm.publication.referenceCount))]),_vm._v(\" (\"),_c('b-icon',{attrs:{\"icon\":\"arrow-top-left-thick\",\"size\":\"is-small\"}}),_vm._v(\") selected publications\"),(_vm.publication.boostFactor != 1)?_c('span',[_vm._v(\", multiplied by a boost factor of \"),_c('b',[_vm._v(_vm._s(_vm.publication.boostFactor)+\" = 2\"),_c('sup',[_vm._v(_vm._s(_vm.publication.boostMatches))])]),_vm._v(\" (\"),_c('b-icon',{attrs:{\"icon\":_vm.chevronType,\"size\":\"is-small\"}}),_vm._v(\"; \"+_vm._s(_vm.publication.boostMatches)+\" keyword\"),(_vm.publication.boostMatches > 1)?_c('span',[_vm._v(\"s\")]):_vm._e(),_vm._v(\" matched)\")],1):_vm._e(),_vm._v(\". \")],1),(_vm.publication.isLinkedToActive)?_c('div',[_c('br'),_vm._v(\" Marked as refered by or referencing currently active publication. \")]):_vm._e(),(_vm.publication.isActive)?_c('div',[_c('br'),_vm._v(\" Currently active, with linked publications highlighted. \")]):_vm._e()]),_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"summary\"},[(_vm.publication.title)?_c('span',[_c('b',[_c('span',{domProps:{\"innerHTML\":_vm._s(\r\n                _vm.publication.titleHighlighted\r\n                  ? _vm.publication.titleHighlighted\r\n                  : _vm.publication.title\r\n              )}})]),_vm._v(\" \")]):_vm._e(),(!_vm.publication.title)?_c('span',{staticClass:\"unknown\"},[_c('b',[_vm._v(\"[unknown title] \")])]):_vm._e(),_c('span',[_vm._v(\"(\"),_c('span',[_vm._v(_vm._s(_vm.publication.authorShort ? _vm.publication.authorShort + \", \" : \"\"))]),_c('span',{class:_vm.publication.year ? '' : 'unknown'},[_vm._v(_vm._s(_vm.publication.year ? _vm.publication.year : \"[unknown year]\"))]),_vm._v(\") \")]),_c('b-taglist',[(_vm.publication.isHighlyCited)?_c('b-tag',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"is-dark\",attrs:{\"icon\":\"star\",\"size\":\"is-small\",\"data-tippy-content\":`Identified as highly cited: ${_vm.publication.isHighlyCited}.`}},[_vm._v(\"Highly cited\")]):_vm._e(),(_vm.publication.isSurvey)?_c('b-tag',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"is-dark\",attrs:{\"icon\":\"table\",\"size\":\"is-small\",\"data-tippy-content\":`Identified as literature survey: ${_vm.publication.isSurvey}.`}},[_vm._v(\"Literature survey\")]):_vm._e(),(_vm.publication.isNew)?_c('b-tag',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"is-dark\",attrs:{\"icon\":\"alarm\",\"size\":\"is-small\",\"data-tippy-content\":`Identified as new: ${_vm.publication.isNew}.`}},[_vm._v(\"New\")]):_vm._e()],1)],1),(_vm.publication.isActive)?_c('div',[_c('span',[(_vm.publication.author)?_c('span',{domProps:{\"innerHTML\":_vm._s(\r\n              _vm.publication.authorOrcid +\r\n              (_vm.publication.authorOrcid.endsWith('.') ? '' : '.')\r\n            )},on:{\"click\":function($event){$event.stopPropagation();return _vm.refocus.apply(null, arguments)}}}):_vm._e()]),(_vm.publication.container)?_c('span',[_c('em',[_vm._v(\" \"+_vm._s(_vm.publication.container)+\". \")])]):_vm._e(),_vm._m(0),_c('a',{attrs:{\"href\":_vm.publication.doiUrl},on:{\"click\":function($event){$event.stopPropagation();return _vm.refocus.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.publication.doi))])]):_vm._e(),(\r\n          !_vm.publication.year &&\r\n          !_vm.publication.title & !_vm.publication.author &&\r\n          !_vm.publication.container &&\r\n          _vm.publication.isActive\r\n        )?_c('div',{staticClass:\"notification has-background-danger-light has-text-danger-dark\"},[_vm._v(\" No metadata could be retrieved for the publication from \"),_c('a',{attrs:{\"href\":`https://opencitations.net/index/coci/api/v1/metadata/${_vm.publication.doi}`},on:{\"click\":function($event){$event.stopPropagation();return _vm.refocus.apply(null, arguments)}}},[_vm._v(\"Open Citations\")]),_vm._v(\". \"),(_vm.publication.score === 0)?_c('span',[_vm._v(\"Also, it is not cited by another selected publication—\"),_c('b',[_vm._v(\"please check if the DOI is correct.\")])]):_vm._e()]):_vm._e(),(!_vm.publication.year && _vm.publication.isActive)?_c('div',{staticClass:\"notification has-background-danger-light has-text-danger-dark\"},[_vm._v(\" The publication cannot be shown in the citation network visualization because of the unknown publication year. \")]):_vm._e(),(_vm.publication.isActive)?_c('div',{staticClass:\"stats-and-links level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{class:`level-item ${\r\n              _vm.publication.referenceDois.length ? '' : 'unknown'\r\n            }`},[_c('label',[_c('b-icon',{attrs:{\"icon\":\"arrow-bottom-left-thick\",\"size\":\"is-small\"}}),_vm._v(\"Citing:\")],1),_c('b',[_vm._v(_vm._s(_vm.publication.referenceDois.length ? _vm.publication.referenceDois.length.toLocaleString(\"en\") : \"not available\"))])]),_c('div',{staticClass:\"level-item\"},[_c('label',[_c('b-icon',{attrs:{\"icon\":\"arrow-top-left-thick\",\"size\":\"is-small\"}}),_vm._v(\"Cited by:\")],1),_c('b',[_vm._v(_vm._s(_vm.publication.citationDois.length.toLocaleString(\"en\")))]),(_vm.publication.citationsPerYear > 0)?_c('span',[_vm._v(\"  (\"+_vm._s(_vm.publication.citationsPerYear.toFixed(1))+\"/year) \")]):_vm._e()])]),(_vm.publication.title && _vm.publication.isActive)?_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[(_vm.publication.abstract)?_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],attrs:{\"data-tippy-content\":\"Abs<span class='key'>t</span>ract\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showAbstract.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"text\"}})],1):_vm._e(),(_vm.publication.oaLink)?_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ml-5\",attrs:{\"href\":_vm.publication.oaLink,\"data-tippy-content\":\"<span class='key'>O</span>pen access\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.refocus.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"lock-open-check-outline\"}})],1):_vm._e(),_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ml-5\",attrs:{\"href\":_vm.publication.gsUrl,\"data-tippy-content\":\"<span class='key'>G</span>oogle Scholar\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.refocus.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"school\"}})],1),_c('a',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ml-5\",attrs:{\"data-tippy-content\":\"Export as BibTe<span class='key'>X</span> citation\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.exportBibtex.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"format-quote-close\"}})],1)])]):_vm._e()]):_vm._e()]),_c('div',{staticClass:\"media-right\"},[_c('div',[(_vm.suggestion)?_c('b-button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"is-primary is-small\",attrs:{\"icon-left\":\"plus-thick\",\"data-tippy-content\":\"Add publication to list of selected publications.\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('add', _vm.publication.doi)}}}):_vm._e()],1),_c('div',[_c('b-button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"is-small\",attrs:{\"icon-left\":\"minus-thick\",\"data-tippy-content\":\"Remove publication from the list and exclude for suggestions.\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove', _vm.publication.doi)}}})],1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('label',[_c('span',{staticClass:\"key\"},[_vm._v(\"D\")]),_vm._v(\"OI:\")])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <li\r\n    class=\"publication-component media\"\r\n    :class=\"{\r\n      active: publication.isActive,\r\n      selected: publication.isSelected,\r\n      linkedToActive: publication.isLinkedToActive,\r\n      unread: !publication.isRead && !publication.isSelected,\r\n    }\"\r\n    :id=\"publication.doi\"\r\n    tabindex=\"0\"\r\n    v-on:focus=\"$emit('activate', publication.doi)\"\r\n    @click.stop=\"$emit('activate', publication.doi)\"\r\n  >\r\n    <tippy class=\"glyph\">\r\n      <template v-slot:trigger>\r\n        <div\r\n          class=\"media-left has-text-centered\"\r\n          v-bind:style=\"{ 'background-color': publication.scoreColor }\"\r\n        >\r\n          <div class=\"tooltip-target\">\r\n            <div class=\"is-size-3 is-inline-block\">{{ publication.score }}</div>\r\n            <div\r\n              class=\"\r\n                boost-indicator\r\n                has-background-warning\r\n                is-size-5 is-inline-block\r\n                ml-1\r\n              \"\r\n              v-if=\"publication.boostFactor > 1\"\r\n              :style=\"boostIndicatorSize\"\r\n            >\r\n              <b-icon\r\n                :icon=\"chevronType\"\r\n                size=\"is-small\"\r\n                :style=\"chevronOffset\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"reference-counts is-size-6\">\r\n            <div class=\"is-pulled-left\">\r\n              <span\r\n                v-if=\"\r\n                  publication.citationCount > 0 ||\r\n                  publication.referenceDois.length === 0\r\n                \"\r\n                :class=\"publication.referenceDois.length ? '' : 'unknown'\"\r\n              >\r\n                <b-icon icon=\"arrow-bottom-left-thick\" size=\"is-small\"></b-icon>\r\n                {{\r\n                  publication.citationCount ? publication.citationCount : \"-\"\r\n                }}\r\n              </span>\r\n            </div>\r\n            <div class=\"is-pulled-right\">\r\n              <span v-if=\"publication.referenceCount > 0\">\r\n                {{ publication.referenceCount }}\r\n                <b-icon icon=\"arrow-top-left-thick\" size=\"is-small\"></b-icon>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <div>\r\n        Suggestion score of\r\n        <b\r\n          >{{ publication.score }} =\r\n          <span v-if=\"publication.boostFactor != 1\">(</span\r\n          >{{ publication.citationCount }} + {{ publication.referenceCount\r\n          }}<span v-if=\"publication.boostFactor != 1\"\r\n            >) &middot; {{ publication.boostFactor }}</span\r\n          ></b\r\n        >,<br />\r\n        citing <b>{{ publication.citationCount }}</b> (<b-icon\r\n          icon=\"arrow-bottom-left-thick\"\r\n          size=\"is-small\"\r\n          :class=\"publication.referenceDois.length ? '' : 'unknown'\"\r\n        ></b-icon\r\n        ><span v-if=\"!publication.referenceDois.length\" class=\"unknown\"\r\n          >, citing data not available</span\r\n        >) and cited by <b>{{ publication.referenceCount }}</b> (<b-icon\r\n          icon=\"arrow-top-left-thick\"\r\n          size=\"is-small\"\r\n        ></b-icon\r\n        >) selected publications<span v-if=\"publication.boostFactor != 1\"\r\n          >, multiplied by a boost factor of\r\n          <b\r\n            >{{ publication.boostFactor }} = 2<sup>{{\r\n              publication.boostMatches\r\n            }}</sup>\r\n          </b>\r\n          (<b-icon :icon=\"chevronType\" size=\"is-small\"></b-icon>;\r\n          {{ publication.boostMatches }} keyword<span\r\n            v-if=\"publication.boostMatches > 1\"\r\n            >s</span\r\n          >\r\n          matched)</span\r\n        >.\r\n      </div>\r\n      <div v-if=\"publication.isLinkedToActive\">\r\n        <br />\r\n        Marked as refered by or referencing currently active publication.\r\n      </div>\r\n      <div v-if=\"publication.isActive\">\r\n        <br />\r\n        Currently active, with linked publications highlighted.\r\n      </div>\r\n    </tippy>\r\n    <div class=\"media-content\">\r\n      <div class=\"summary\">\r\n        <span v-if=\"publication.title\">\r\n          <b\r\n            ><span\r\n              v-html=\"\r\n                publication.titleHighlighted\r\n                  ? publication.titleHighlighted\r\n                  : publication.title\r\n              \"\r\n            ></span></b\r\n          >&ensp;</span\r\n        >\r\n        <span v-if=\"!publication.title\" class=\"unknown\">\r\n          <b>[unknown title] </b>\r\n        </span>\r\n        <span\r\n          >(<span>{{\r\n            publication.authorShort ? publication.authorShort + \", \" : \"\"\r\n          }}</span\r\n          ><span :class=\"publication.year ? '' : 'unknown'\">{{\r\n            publication.year ? publication.year : \"[unknown year]\"\r\n          }}</span\r\n          >)\r\n        </span>\r\n        <b-taglist>\r\n          <b-tag\r\n            icon=\"star\"\r\n            class=\"is-dark\"\r\n            size=\"is-small\"\r\n            v-if=\"publication.isHighlyCited\"\r\n            :data-tippy-content=\"`Identified as highly cited: ${publication.isHighlyCited}.`\"\r\n            v-tippy\r\n            >Highly cited</b-tag\r\n          >\r\n          <b-tag\r\n            icon=\"table\"\r\n            class=\"is-dark\"\r\n            size=\"is-small\"\r\n            v-if=\"publication.isSurvey\"\r\n            :data-tippy-content=\"`Identified as literature survey: ${publication.isSurvey}.`\"\r\n            v-tippy\r\n            >Literature survey</b-tag\r\n          >\r\n          <b-tag\r\n            icon=\"alarm\"\r\n            class=\"is-dark\"\r\n            size=\"is-small\"\r\n            v-if=\"publication.isNew\"\r\n            :data-tippy-content=\"`Identified as new: ${publication.isNew}.`\"\r\n            v-tippy\r\n            >New</b-tag\r\n          >\r\n        </b-taglist>\r\n      </div>\r\n      <div v-if=\"publication.isActive\">\r\n        <span>\r\n          <span\r\n            v-html=\"\r\n              publication.authorOrcid +\r\n              (publication.authorOrcid.endsWith('.') ? '' : '.')\r\n            \"\r\n            v-if=\"publication.author\"\r\n            @click.stop=\"refocus\"\r\n          ></span>\r\n        </span>\r\n        <span v-if=\"publication.container\"\r\n          ><em> {{ publication.container }}. </em></span\r\n        >\r\n        <label><span class=\"key\">D</span>OI:</label>\r\n        <a :href=\"publication.doiUrl\" @click.stop=\"refocus\">{{\r\n          publication.doi\r\n        }}</a>\r\n      </div>\r\n      <div\r\n        class=\"notification has-background-danger-light has-text-danger-dark\"\r\n        v-if=\"\r\n          !publication.year &&\r\n          !publication.title & !publication.author &&\r\n          !publication.container &&\r\n          publication.isActive\r\n        \"\r\n      >\r\n        No metadata could be retrieved for the publication from\r\n        <a\r\n          :href=\"`https://opencitations.net/index/coci/api/v1/metadata/${publication.doi}`\"\r\n          @click.stop=\"refocus\"\r\n          >Open Citations</a\r\n        >.\r\n        <span v-if=\"publication.score === 0\"\r\n          >Also, it is not cited by another selected publication&mdash;<b\r\n            >please check if the DOI is correct.</b\r\n          >\r\n        </span>\r\n      </div>\r\n      <div\r\n        class=\"notification has-background-danger-light has-text-danger-dark\"\r\n        v-if=\"!publication.year && publication.isActive\"\r\n      >\r\n        The publication cannot be shown in the citation network visualization\r\n        because of the unknown publication year.\r\n      </div>\r\n      <div v-if=\"publication.isActive\" class=\"stats-and-links level\">\r\n        <div class=\"level-left\">\r\n          <div\r\n            :class=\"`level-item ${\r\n              publication.referenceDois.length ? '' : 'unknown'\r\n            }`\"\r\n          >\r\n            <label\r\n              ><b-icon icon=\"arrow-bottom-left-thick\" size=\"is-small\"></b-icon\r\n              >Citing:</label\r\n            >\r\n            <b>{{\r\n              publication.referenceDois.length\r\n                ? publication.referenceDois.length.toLocaleString(\"en\")\r\n                : \"not available\"\r\n            }}</b>\r\n          </div>\r\n          <div class=\"level-item\">\r\n            <label\r\n              ><b-icon icon=\"arrow-top-left-thick\" size=\"is-small\"></b-icon\r\n              >Cited by:</label\r\n            >\r\n            <b>{{ publication.citationDois.length.toLocaleString(\"en\") }}</b>\r\n            <span v-if=\"publication.citationsPerYear > 0\">\r\n              &nbsp;({{ publication.citationsPerYear.toFixed(1) }}/year)\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div\r\n          class=\"level-right\"\r\n          v-if=\"publication.title && publication.isActive\"\r\n        >\r\n          <div class=\"level-item\">\r\n            <a\r\n              v-if=\"publication.abstract\"\r\n              @click.stop=\"showAbstract\"\r\n              data-tippy-content=\"Abs<span class='key'>t</span>ract\"\r\n              v-tippy\r\n              ><b-icon icon=\"text\"></b-icon\r\n            ></a>\r\n            <a\r\n              v-if=\"publication.oaLink\"\r\n              :href=\"publication.oaLink\"\r\n              class=\"ml-5\"\r\n              @click.stop=\"refocus\"\r\n              data-tippy-content=\"<span class='key'>O</span>pen access\"\r\n              v-tippy\r\n              ><b-icon icon=\"lock-open-check-outline\"></b-icon\r\n            ></a>\r\n            <a\r\n              :href=\"publication.gsUrl\"\r\n              class=\"ml-5\"\r\n              @click.stop=\"refocus\"\r\n              data-tippy-content=\"<span class='key'>G</span>oogle Scholar\"\r\n              v-tippy\r\n              ><b-icon icon=\"school\"></b-icon\r\n            ></a>\r\n            <a\r\n              @click.stop=\"exportBibtex\"\r\n              class=\"ml-5\"\r\n              data-tippy-content=\"Export as BibTe<span class='key'>X</span> citation\"\r\n              v-tippy\r\n              ><b-icon icon=\"format-quote-close\"></b-icon\r\n            ></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"media-right\">\r\n      <div>\r\n        <b-button\r\n          v-if=\"suggestion\"\r\n          class=\"is-primary is-small\"\r\n          icon-left=\"plus-thick\"\r\n          data-tippy-content=\"Add publication to list of selected publications.\"\r\n          @click.stop=\"$emit('add', publication.doi)\"\r\n          v-tippy\r\n        >\r\n        </b-button>\r\n      </div>\r\n      <div>\r\n        <b-button\r\n          class=\"is-small\"\r\n          icon-left=\"minus-thick\"\r\n          data-tippy-content=\"Remove publication from the list and exclude for suggestions.\"\r\n          @click.stop=\"$emit('remove', publication.doi)\"\r\n          v-tippy\r\n        >\r\n        </b-button>\r\n      </div>\r\n    </div>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PublicationComponent\",\r\n  props: {\r\n    publication: Object,\r\n    suggestion: Boolean,\r\n  },\r\n  computed: {\r\n    chevronType: function () {\r\n      if (this.publication.boostFactor >= 8) {\r\n        return \"chevron-triple-up\";\r\n      } else if (this.publication.boostFactor >= 4) {\r\n        return \"chevron-double-up\";\r\n      } else if (this.publication.boostFactor > 1) {\r\n        return \"chevron-up\";\r\n      }\r\n      return \"\";\r\n    },\r\n\r\n    boostIndicatorSize: function () {\r\n      if (this.publication.boostFactor >= 8) {\r\n        return { width: \"2rem\", height: \"2rem\" };\r\n      } else if (this.publication.boostFactor >= 4) {\r\n        return { width: \"1.6rem\", height: \"1.6rem\" };\r\n      } else if (this.publication.boostFactor > 1) {\r\n        return { width: \"1.3rem\", height: \"1.3rem \" };\r\n      }\r\n      return \"\";\r\n    },\r\n\r\n    chevronOffset: function () {\r\n      if (this.publication.boostFactor >= 8) {\r\n        return { position: \"relative\", top: \"0rem\" };\r\n      } else if (this.publication.boostFactor >= 4) {\r\n        return { position: \"relative\", top: \"-0.15rem\" };\r\n      } else if (this.publication.boostFactor > 1) {\r\n        return { position: \"relative\", top: \"-0.3rem\" };\r\n      }\r\n      return \"\";\r\n    },\r\n  },\r\n  methods: {\r\n    showAbstract: function () {\r\n      this.$emit(\"showAbstract\", this.publication);\r\n    },\r\n\r\n    exportBibtex: function () {\r\n      this.$emit(\"exportBibtex\", this.publication);\r\n      this.refocus();\r\n    },\r\n\r\n    refocus: function () {\r\n      document.getElementById(this.publication.doi).focus();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~bulma/sass/utilities/_all\";\r\n\r\n.tooltip-target {\r\n  position: relative;\r\n}\r\n\r\n.reference-counts {\r\n  .icon {\r\n    margin: -0.4em;\r\n  }\r\n\r\n  div {\r\n    width: 50%;\r\n  }\r\n}\r\n\r\n.boost-indicator {\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  top: -7px;\r\n  right: -7px;\r\n  // vertical-align: middle;\r\n}\r\n\r\n*:focus {\r\n  outline: 1px solid $dark;\r\n}\r\n\r\nli.publication-component {\r\n  padding: 0;\r\n  margin: 0;\r\n  cursor: pointer;\r\n  min-height: 5rem;\r\n  outline-offset: -0.25rem;\r\n\r\n  &:hover {\r\n    background: $white-ter;\r\n  }\r\n\r\n  &.active {\r\n    background: $grey-lighter;\r\n  }\r\n\r\n  &.unread {\r\n    background: $info-light;\r\n\r\n    & .summary {\r\n      color: $info-dark;\r\n    }\r\n\r\n    & .glyph {\r\n      color: $info-dark;\r\n      text-shadow: 0 0 15px $grey-lighter;\r\n    }\r\n  }\r\n\r\n  & .media-left {\r\n    width: 5rem;\r\n    height: 5rem;\r\n    margin: 0.5rem;\r\n    border-width: 0.125rem;\r\n    border-color: $info;\r\n    border-style: solid;\r\n  }\r\n\r\n  &.selected .media-left {\r\n    border-color: $primary;\r\n  }\r\n\r\n  &.active .media-left {\r\n    border-width: 0.375rem;\r\n  }\r\n\r\n  &.linkedToActive .media-left {\r\n    border-width: 0.25rem;\r\n  }\r\n\r\n  & .glyph > div:focus > div {\r\n    outline: 1px solid $dark;\r\n    outline-offset: 0.1rem;\r\n  }\r\n\r\n  & .media-content {\r\n    padding: 0.5rem;\r\n    overflow: auto;\r\n\r\n    & div.summary {\r\n      margin-bottom: 0.5rem;\r\n\r\n      & .tag {\r\n        margin-top: 0.25rem;\r\n        margin-bottom: 0.25rem;\r\n      }\r\n\r\n      & .tag:focus {\r\n        outline-offset: 0.1rem;\r\n      }\r\n    }\r\n\r\n    & label {\r\n      padding-right: 0.25rem;\r\n    }\r\n\r\n    & .abstract {\r\n      font-style: italic;\r\n      font-size: 0.95rem;\r\n      padding: 0.5rem 0;\r\n\r\n      &::before {\r\n        content: \"Abstract: \";\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    & .notification {\r\n      padding: 0.5rem;\r\n      margin: 0.5rem 0;\r\n    }\r\n\r\n    & .stats-and-links {\r\n      flex-wrap: wrap;\r\n\r\n      & .level-left,\r\n      & .level-right {\r\n        margin-top: 0.25rem;\r\n        flex-wrap: wrap;\r\n        flex-grow: 1;\r\n      }\r\n\r\n      & .level-item {\r\n        flex-wrap: wrap;\r\n      }\r\n\r\n      & .level-left .level-item {\r\n        margin-right: 1.5rem;\r\n      }\r\n\r\n      & .level-right .level-item {\r\n        justify-content: right;\r\n        margin: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  & .media-right {\r\n    margin-right: 0.5rem;\r\n\r\n    & .button {\r\n      margin: 0.5rem 0;\r\n    }\r\n  }\r\n}\r\n\r\n@include touch {\r\n  li.publication-component {\r\n    & .media-content {\r\n      padding-left: 0;\r\n      padding-right: 0;\r\n\r\n      .level {\r\n        & .level-left .level-item {\r\n          justify-content: left;\r\n        }\r\n\r\n        & .level-right .level-item {\r\n          justify-content: right;\r\n        }\r\n      }\r\n    }\r\n    & .media-right {\r\n      margin-left: 0.5rem;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationComponent.vue?vue&type=template&id=4e43e41c&scoped=true&\"\nimport script from \"./PublicationComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicationComponent.vue?vue&type=style&index=0&id=4e43e41c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e43e41c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ul class=\"publication-list has-background-white\">\r\n    <PublicationComponent\r\n      v-for=\"publication in publications\"\r\n      :key=\"publication.doi\"\r\n      :publication=\"publication\"\r\n      :suggestion=\"suggestion\"\r\n      v-on:add=\"addPublication\"\r\n      v-on:remove=\"removePublication\"\r\n      v-on:activate=\"activatePublication\"\r\n      v-on:showAbstract=\"showAbstract\"\r\n      v-on:exportBibtex=\"exportSingleBibtex\"\r\n    ></PublicationComponent>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { scrollToTargetAdjusted } from \"./../Util.js\";\r\n\r\nimport PublicationComponent from \"./PublicationComponent.vue\";\r\n\r\nexport default {\r\n  name: \"SelectedPublicationsComponent\",\r\n  components: {\r\n    PublicationComponent,\r\n  },\r\n  props: {\r\n    publications: Array,\r\n    suggestion: Boolean,\r\n  },\r\n  watch: {\r\n    publications: {\r\n      deep: true,\r\n      handler: function () {\r\n        this.$nextTick(this.scrollToActivated);\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      onNextActivatedScroll: true,\r\n    };\r\n  },\r\n  methods: {\r\n    addPublication: function (doi) {\r\n      this.$emit(\"add\", doi);\r\n    },\r\n    removePublication: function (doi) {\r\n      this.$emit(\"remove\", doi);\r\n    },\r\n    activatePublication: function (doi) {\r\n      this.onNextActivatedScroll = false;\r\n      this.$emit(\"activate\", doi);\r\n    },\r\n    showAbstract: function (publication) {\r\n      this.$emit(\"showAbstract\", publication);\r\n    },\r\n    exportSingleBibtex: function(publication) {\r\n      this.$emit(\"exportSingleBibtex\", publication);\r\n    },\r\n    scrollToActivated() {\r\n      if (this.onNextActivatedScroll) {\r\n        const publicationComponent =\r\n          this.$el.getElementsByClassName(\"active\")[0];\r\n        if (publicationComponent) {\r\n          if (window.innerWidth <= 1023)\r\n            scrollToTargetAdjusted(publicationComponent, 65);\r\n          else {\r\n            publicationComponent.scrollIntoView({\r\n              behavior: \"smooth\",\r\n              block: \"start\",\r\n              inline: \"nearest\",\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        this.onNextActivatedScroll = true;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationListComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationListComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationListComponent.vue?vue&type=template&id=3831982c&\"\nimport script from \"./PublicationListComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationListComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import LZString from 'lz-string';\r\n\r\nexport async function cachedFetch(url, processData) {\r\n  try {\r\n    const data = JSON.parse(LZString.decompress(localStorage[url]));\r\n    if (!data) throw new Error(\"Cached data is empty\");\r\n    processData(data);\r\n  } catch (cannotLoadFromCacheError) {\r\n    try {\r\n      const response = await fetch(url);\r\n      if (!response.ok) {\r\n        throw new Error(`Received response with status ${response.status}`);\r\n      }\r\n      const data = await response.json();\r\n      try {\r\n        localStorage[url] = LZString.compress(JSON.stringify(data));\r\n      } catch (error) {\r\n        console.log(\"Cache full (#elements: ${Object.keys(localStorage).length})! Removing elements...\")\r\n        try {\r\n          // local storage cache full, delete random elements\r\n          for (let i = 0; i < 100; i++) {\r\n            const randomStoredUrl = Object.keys(localStorage)[\r\n              Math.floor(Math.random() * Object.keys(localStorage).length)\r\n            ];\r\n            localStorage.removeItem(randomStoredUrl);\r\n          }\r\n          localStorage[url] = LZString.compress(JSON.stringify(data));\r\n        } catch (error2) {\r\n          console.error(\r\n            `Unable to cache information for \"${url}\" in local storage: ${error2}`\r\n          );\r\n        }\r\n      }\r\n      console.log(`Successfully fetched data for \"${url}\"`);\r\n      processData(data);\r\n    } catch (error3) {\r\n      console.error(`Unable to fetch or process data for \"${url}\": ${error3}`)\r\n    }\r\n  }\r\n}\r\n\r\nexport function clearCache() {\r\n  localStorage.clear();\r\n}","import _ from \"lodash\";\r\n\r\nimport { cachedFetch } from \"./Cache.js\";\r\n\r\nconst minSimilarityDifference = 0.1;\r\n\r\nexport default class PublicationQuery {\r\n\r\n    constructor(query) {\r\n        this.query = query;\r\n    }\r\n\r\n    async execute() {\r\n        let dois = [];\r\n        let ambiguousResult = false;\r\n        this.query.split(/ |\"|\\{|\\}|doi:|doi.org\\//).forEach((doi) => {\r\n            doi = _.trim(doi, \".\");\r\n            if (doi.indexOf(\"10.\") === 0) {\r\n                dois.push(doi);\r\n            }\r\n        });\r\n        if (dois.length === 0) {\r\n            const simplifiedQuery = this.query.replace(/\\W+/g, \"+\").toLowerCase();\r\n            console.log(`Searching for publications with title or similar to '${this.query}'.`)\r\n            await cachedFetch(\r\n                `https://api.crossref.org/works?query.bibliographic=${simplifiedQuery}&mailto=fabian.beck@uni-bamberg.de`,\r\n                (data) => {\r\n                    let maxSimilarity = 0.7;\r\n                    let maxTitle = \"\";\r\n                    ambiguousResult = true;\r\n                    data.message.items.filter(item => item.title).forEach((item) => {\r\n                        const title =\r\n                            item.title[0] +\r\n                            (item.subtitle && item.title[0] !== item.subtitle[0] ? \" \" + item.subtitle[0] : \"\")\r\n                        const similarity = this.computeTitleSimilarity(simplifiedQuery, title);\r\n                        const similarityDifference = similarity - maxSimilarity\r\n                        if (similarityDifference > minSimilarityDifference) {\r\n                            // clear new max \r\n                            ambiguousResult = false;\r\n                        } else if (similarityDifference > -minSimilarityDifference) {\r\n                            // close to max\r\n                            ambiguousResult = true;\r\n                        }\r\n                        console.log(`  ... similarity to '${title}' is ${similarity}.`)\r\n                        if (similarity > maxSimilarity) {\r\n                            dois = [item.DOI];\r\n                            maxTitle = title;\r\n                            maxSimilarity = similarity;\r\n                        }\r\n                    });\r\n                    if (maxTitle) {\r\n                        if (!ambiguousResult) {\r\n                            console.log(`  Identified as best fit: '${maxTitle}' (${dois[0]})`);\r\n                        } else {\r\n                            console.log(\"  Some publication titles are sufficiently similar, but the result is ambiguous.\");\r\n                        }\r\n                    } else {\r\n                        console.log(\"  None of the publication titles is sufficiently similar.\");\r\n                    }\r\n                }\r\n            );\r\n        }\r\n        return { dois: dois, ambiguousResult: ambiguousResult };\r\n    }\r\n\r\n    computeTitleSimilarity(query, title) {\r\n        const stopwords = [\"the\", \"for\", \"with\", \"and\"]; // for words with length > 2\r\n        let equivalentWordCounter = 0;\r\n        let wordCounter = 0;\r\n        let normalizedTitle = \" \" + title.replace(/\\W+/g, \" \").toLowerCase() + \" \"\r\n        query.split(\"+\").forEach((word) => {\r\n            if (word.length > 2 && stopwords.indexOf(word) === -1) {\r\n                wordCounter++;\r\n                if (normalizedTitle.indexOf(\" \" + word + \" \") >= 0) {\r\n                    equivalentWordCounter++;\r\n                }\r\n            }\r\n        });\r\n        return (\r\n            equivalentWordCounter / wordCounter\r\n        );\r\n    }\r\n\r\n}","<template>\r\n  <div class=\"selected-publications box has-background-primary\">\r\n    <div class=\"level\">\r\n      <div class=\"level-left has-text-white\">\r\n        <div class=\"level-item\">\r\n          <b-icon icon=\"water-outline\"></b-icon>\r\n          <h2 class=\"is-size-5 ml-2\">Selected</h2>\r\n          <b-icon\r\n            icon=\"information-outline\"\r\n            size=\"is-small\"\r\n            class=\"ml-2\"\r\n            v-show=\"publications.length\"\r\n            data-tippy-content=\"The <b>publications selected as seeds</b> for computing the suggestions, sorted by score.\"\r\n            v-tippy\r\n          ></b-icon>\r\n        </div>\r\n      </div>\r\n      <div class=\"level-right\" v-show=\"publications.length\">\r\n        <div class=\"level-item\">\r\n          <div class=\"field has-addons\">\r\n            <p class=\"control has-icons-right\">\r\n              <input\r\n                class=\"input boost has-background-warning-light\"\r\n                type=\"text\"\r\n                v-model=\"boostKeywordString\"\r\n                placeholder=\"keyword(s)\"\r\n                @keyup.enter=\"updateBoost\"\r\n                data-tippy-content=\"Boost by factors of 2 the score of publications that contain the following keyword(s) in their title.<br><br>Use commas to separate multiple keywords.\"\r\n                v-tippy\r\n              />\r\n              <span class=\"icon is-small is-right is-clickable\">\r\n                <i class=\"delete\" @click.stop=\"clearBoost\"></i>\r\n              </span>\r\n            </p>\r\n            <p class=\"control\">\r\n              <b-button\r\n                class=\"button has-background-warning\"\r\n                type=\"submit\"\r\n                icon-left=\"chevron-double-up\"\r\n                v-on:click=\"updateBoost\"\r\n              >\r\n                <span><span class=\"key\">B</span>oost</span>\r\n              </b-button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <form v-on:submit.prevent=\"add\" class=\"field has-addons\">\r\n      <p class=\"control is-expanded\">\r\n        <input\r\n          class=\"input add-publication\"\r\n          type=\"text\"\r\n          placeholder=\"DOI(s)/title or search\"\r\n          v-model=\"addQuery\"\r\n          data-tippy-content=\"One or more <b>DOIs</b> (separated by different characters or included in a different format such as BibTeX).<br/>Alternatively, <b>paper title</b> or a unique part of it (only works for one publication)\"\r\n          v-tippy\r\n        />\r\n      </p>\r\n      <!-- copies of buttons necessary as just hiding text inside button leads to empty span tag inside buttons and layout issues -->\r\n      <p class=\"control\">\r\n        <b-button\r\n          class=\"\r\n            button\r\n            level-right\r\n            has-background-primary-light\r\n            is-hidden-touch\r\n          \"\r\n          type=\"submit\"\r\n          icon-left=\"plus-thick\"\r\n          @click.stop=\"add\"\r\n          ><span class=\"key\">A</span>dd\r\n        </b-button>\r\n        <b-button\r\n          class=\"\r\n            button\r\n            level-right\r\n            has-background-primary-light\r\n            is-hidden-desktop\r\n          \"\r\n          type=\"submit\"\r\n          icon-left=\"plus-thick\"\r\n          @click.stop=\"add\"\r\n        ></b-button>\r\n      </p>\r\n      <p class=\"control\">\r\n        <b-button\r\n          class=\"\r\n            button\r\n            level-right\r\n            has-background-primary-light\r\n            ml-1\r\n            is-hidden-touch\r\n          \"\r\n          type=\"submit\"\r\n          icon-left=\"magnify\"\r\n          @click.stop=\"openSearch(false)\"\r\n          ><span class=\"key\">S</span>earch</b-button\r\n        >\r\n        <b-button\r\n          class=\"\r\n            button\r\n            level-right\r\n            has-background-primary-light\r\n            ml-1\r\n            is-hidden-desktop\r\n          \"\r\n          type=\"submit\"\r\n          icon-left=\"magnify\"\r\n          @click.stop=\"openSearch(false)\"\r\n        ></b-button>\r\n      </p>\r\n    </form>\r\n    <div>\r\n      <div\r\n        class=\"notification has-text-centered has-background-primary-light p-2\"\r\n        v-show=\"publications.length === 0\"\r\n      >\r\n        <p>\r\n          To start,\r\n          <b><b-icon icon=\"plus-thick\" size=\"is-small\"></b-icon> add</b>\r\n          publications through a <b>title</b> or <b>DOI(s)</b> (<a\r\n            href=\"https://www.doi.org/\"\r\n            >Document Object Intentfier</a\r\n          >), <br />\r\n          <b><b-icon icon=\"magnify\" size=\"is-small\"></b-icon> search</b> using\r\n          <b>keywords</b>, or:\r\n        </p>\r\n        <div class=\"level mt-2\">\r\n          <div class=\"level-item\">\r\n            <b-button\r\n              class=\"button has-background-primary-light\"\r\n              icon-left=\"file-document\"\r\n              @click.stop=\"$emit('loadExample')\"\r\n            >\r\n              Load example\r\n            </b-button>\r\n          </div>\r\n          <div class=\"level-item\">\r\n            <b-button\r\n              class=\"button has-background-primary-light\"\r\n              icon-left=\"import\"\r\n              @click=\"importSession\"\r\n            >\r\n              Import session from JSON\r\n            </b-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          notification\r\n          has-background-danger-light has-text-danger-dark\r\n          mb-2\r\n          p-2\r\n        \"\r\n        v-show=\"noPublicationWarning\"\r\n      >\r\n        <button\r\n          class=\"delete\"\r\n          @click.stop=\"noPublicationWarning = false\"\r\n        ></button>\r\n        Cannot find a publication with this or similar title.\r\n      </div>\r\n    </div>\r\n    <PublicationListComponent\r\n      :publications=\"publications\"\r\n      v-on:activate=\"activatePublication\"\r\n      v-on:remove=\"removePublication\"\r\n      v-on:showAbstract=\"showAbstract\"\r\n      v-on:exportSingleBibtex=\"exportSingleBibtex\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PublicationListComponent from \"./PublicationListComponent.vue\";\r\nimport PublicationQuery from \"./../PublicationQuery.js\";\r\n\r\nexport default {\r\n  name: \"SelectedPublicationsComponent\",\r\n  components: {\r\n    PublicationListComponent,\r\n  },\r\n  props: {\r\n    publications: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      addQuery: \"\",\r\n      noPublicationWarning: false,\r\n      boostKeywordString: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    add: async function () {\r\n      this.$emit(\"startSearching\");\r\n      const publicationQuery = new PublicationQuery(this.addQuery);\r\n      const query = await publicationQuery.execute();\r\n      if (query.dois.length > 0) {\r\n        if (query.ambiguousResult) {\r\n          this.$emit(\"searchEndedWithoutResult\");\r\n          this.openSearch(true);\r\n        } else {\r\n          this.$emit(\"add\", query.dois);\r\n          this.addQuery = \"\";\r\n        }\r\n      } else {\r\n        this.noPublicationWarning = true;\r\n        this.$emit(\"searchEndedWithoutResult\");\r\n      }\r\n    },\r\n    openSearch: function (ambiguous = false) {\r\n      this.$emit(\r\n        \"openSearch\",\r\n        this.addQuery,\r\n        ambiguous ? \"Several publications might match, please select...\" : null\r\n      );\r\n      this.addQuery = \"\";\r\n    },\r\n    removePublication: function (doi) {\r\n      this.$emit(\"remove\", doi);\r\n    },\r\n    activatePublication: function (doi) {\r\n      this.$emit(\"activate\", doi);\r\n    },\r\n    showAbstract: function (publication) {\r\n      this.$emit(\"showAbstract\", publication);\r\n    },\r\n    exportSingleBibtex: function (publication) {\r\n      this.$emit(\"exportSingleBibtex\", publication);\r\n    },\r\n    updateBoost: function () {\r\n      this.$emit(\"updateBoost\", this.boostKeywordString);\r\n    },\r\n    clearBoost: function () {\r\n      this.boostKeywordString = \"\";\r\n      this.$emit(\"updateBoost\", this.boostKeywordString);\r\n    },\r\n    setBoost: function (boostKeywordString) {\r\n      this.boostKeywordString = boostKeywordString;\r\n    },\r\n    importSession: function () {\r\n      this.$buefy.dialog.confirm({\r\n        title: \"Import session\",\r\n        message: `<label>Choose an exported session JSON file:&nbsp;</label>\r\n            <input type=\"file\" id=\"import-json-input\" accept=\"application/JSON\"/>`,\r\n        onConfirm: () =>\r\n          this.$emit(\r\n            \"importSession\",\r\n            document.getElementById(\"import-json-input\").files[0]\r\n          ),\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    addQuery: function () {\r\n      this.noPublicationWarning = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~bulma/sass/utilities/_all\";\r\n.box {\r\n  display: grid;\r\n  grid-template-rows: max-content max-content max-content auto;\r\n}\r\n.publication-list {\r\n  max-height: 100%;\r\n  overflow-y: scroll;\r\n  border: 1px solid $border;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectedPublicationsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectedPublicationsComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectedPublicationsComponent.vue?vue&type=template&id=6c9dec56&scoped=true&\"\nimport script from \"./SelectedPublicationsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectedPublicationsComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectedPublicationsComponent.vue?vue&type=style&index=0&id=6c9dec56&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c9dec56\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"suggested-publications box has-background-info\"},[_c('div',{staticClass:\"level box-header\"},[_c('div',{staticClass:\"level-left has-text-white\"},[_c('div',{staticClass:\"level-item\"},[_c('b-icon',{attrs:{\"icon\":\"water-plus-outline\"}}),_c('h2',{staticClass:\"is-size-5 ml-2\"},[_vm._v(\"Suggested\")]),_c('b-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.suggestion),expression:\"suggestion\"},{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ml-2\",attrs:{\"icon\":\"information-outline\",\"size\":\"is-small\",\"data-tippy-content\":\"The <b>suggested publications</b> based on references to and from the selected publications, sorted by score.\"}})],1)]),(_vm.suggestion)?_c('div',{staticClass:\"level-right has-text-white\"},[_c('div',{staticClass:\"level-item\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.suggestion.publications.length)+\" \"),(_vm.unreadSuggestionsCount > 0)?_c('b-tag',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],attrs:{\"icon\":\"bell\",\"size\":\"is-small\",\"data-tippy-content\":\"The number of unread suggestions.\"}},[_vm._v(_vm._s(_vm.unreadSuggestionsCount))]):_vm._e(),_vm._v(\" of \"+_vm._s(_vm.suggestion.totalSuggestions.toLocaleString(\"en\"))+\" suggestions \")],1),_c('b-button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"level-item compact-button\",attrs:{\"icon-right\":\"playlist-plus\",\"data-tippy-content\":\"Load more suggestions\",\"disabled\":_vm.suggestion.publications.length === _vm.suggestion.totalSuggestions},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('loadMore')}}})],1)]):_vm._e()]),_c('PublicationListComponent',{attrs:{\"publications\":_vm.suggestion ? _vm.suggestion.publications : [],\"suggestion\":true},on:{\"add\":_vm.addPublication,\"remove\":_vm.removePublication,\"activate\":_vm.activatePublication,\"showAbstract\":_vm.showAbstract,\"exportSingleBibtex\":_vm.exportSingleBibtex}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"suggested-publications box has-background-info\">\r\n    <div class=\"level box-header\">\r\n      <div class=\"level-left has-text-white\">\r\n        <div class=\"level-item\">\r\n          <b-icon icon=\"water-plus-outline\"></b-icon>\r\n          <h2 class=\"is-size-5 ml-2\">Suggested</h2>\r\n          <b-icon\r\n            icon=\"information-outline\"\r\n            size=\"is-small\"\r\n            class=\"ml-2\"\r\n            v-show=\"suggestion\"\r\n            data-tippy-content=\"The <b>suggested publications</b> based on references to and from the selected publications, sorted by score.\"\r\n            v-tippy\r\n          ></b-icon>\r\n        </div>\r\n      </div>\r\n      <div class=\"level-right has-text-white\" v-if=\"suggestion\">\r\n        <div class=\"level-item\">\r\n          <span>\r\n            {{ suggestion.publications.length }}\r\n            <b-tag\r\n              icon=\"bell\"\r\n              size=\"is-small\"\r\n              v-if=\"unreadSuggestionsCount > 0\"\r\n              data-tippy-content=\"The number of unread suggestions.\"\r\n              v-tippy\r\n              >{{ unreadSuggestionsCount }}</b-tag\r\n            >\r\n            of\r\n            {{ suggestion.totalSuggestions.toLocaleString(\"en\") }} suggestions\r\n          </span>\r\n          <b-button\r\n            class=\"level-item compact-button\"\r\n            icon-right=\"playlist-plus\"\r\n            data-tippy-content=\"Load more suggestions\"\r\n            v-tippy\r\n            @click.stop=\"$emit('loadMore')\"\r\n            :disabled=\"\r\n              suggestion.publications.length === suggestion.totalSuggestions\r\n            \"\r\n          ></b-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <PublicationListComponent\r\n      :publications=\"suggestion ? suggestion.publications : []\"\r\n      :suggestion=\"true\"\r\n      v-on:add=\"addPublication\"\r\n      v-on:remove=\"removePublication\"\r\n      v-on:activate=\"activatePublication\"\r\n      v-on:showAbstract=\"showAbstract\"\r\n      v-on:exportSingleBibtex=\"exportSingleBibtex\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PublicationListComponent from \"./PublicationListComponent.vue\";\r\n\r\nexport default {\r\n  name: \"SuggestedPublicationsComponent\",\r\n  components: {\r\n    PublicationListComponent,\r\n  },\r\n  props: {\r\n    title: String,\r\n    suggestion: Object,\r\n  },\r\n  computed: {\r\n    unreadSuggestionsCount() {\r\n      return this.suggestion.publications.filter(\r\n        (publication) => !publication.isRead\r\n      ).length;\r\n    },\r\n  },\r\n  methods: {\r\n    addPublication: function (doi) {\r\n      this.$emit(\"add\", doi);\r\n    },\r\n    removePublication: function (doi) {\r\n      this.$emit(\"remove\", doi);\r\n    },\r\n    activatePublication: function (doi) {\r\n      this.$emit(\"activate\", doi);\r\n    },\r\n    showAbstract: function (publication) {\r\n      this.$emit(\"showAbstract\", publication);\r\n    },\r\n    exportSingleBibtex: function (publication) {\r\n      this.$emit(\"exportSingleBibtex\", publication);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~bulma/sass/utilities/_all\";\r\n.box {\r\n  display: grid;\r\n  grid-template-rows: max-content auto;\r\n  position: relative;\r\n\r\n  & .box-header .tag {\r\n    position: relative;\r\n    top: -0.4rem;\r\n    padding: 0 0.2rem;\r\n    height: 1.2rem;\r\n    background-color: $info-light;\r\n    color: $info-dark;\r\n  }\r\n}\r\n.publication-list {\r\n  max-height: 100%;\r\n  overflow-y: scroll;\r\n  border: 1px solid $border;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuggestedPublicationsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuggestedPublicationsComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SuggestedPublicationsComponent.vue?vue&type=template&id=0d7655ff&scoped=true&\"\nimport script from \"./SuggestedPublicationsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./SuggestedPublicationsComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SuggestedPublicationsComponent.vue?vue&type=style&index=0&id=0d7655ff&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d7655ff\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"network-of-references\"},[_c('div',{staticClass:\"box has-background-grey\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left has-text-white\"},[_c('div',{staticClass:\"level-item\"},[_c('b-icon',{attrs:{\"icon\":\"chart-bubble\"}}),_c('h2',{staticClass:\"is-size-5 ml-2\"},[_vm._v(\"Citation network\")]),_c('b-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPublications.length),expression:\"selectedPublications.length\"},{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ml-2\",attrs:{\"icon\":\"information-outline\",\"size\":\"is-small\",\"data-tippy-content\":\"Showing publications as nodes (<b class='has-text-primary'>selected</b>; <b class='has-text-info'>suggested</b>) with citations as links.<br><br>You can click a publication for details as well as zoom and pan the diagram.\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPublications.length),expression:\"selectedPublications.length\"}],staticClass:\"level-right\"},[_c('b-field',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"level-item has-text-white mr-4 mb-0\",attrs:{\"data-tippy-content\":\"There are two display <span class='key'>m</span>odes:<br><br><b>Timeline:</b> The diagram places publications from left to right based on year, and vertically tries to group linked publications close to each other.<br><br><b>Clusters:</b> The diagram groups linked publications close to each other, irrespective of publication year.\"}},[_c('label',{staticClass:\"mr-2\",class:{ 'has-text-grey-light': _vm.isClusters }},[_vm._v(\"Timeline\")]),_c('b-switch',{attrs:{\"type\":\"is-dark\",\"passive-type\":\"is-dark\"},model:{value:(_vm.isClusters),callback:function ($$v) {_vm.isClusters=$$v},expression:\"isClusters\"}}),_c('label',{class:{ 'has-text-grey-light': !_vm.isClusters }},[_vm._v(\"Clusters\")])],1),_c('b-button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"},{name:\"show\",rawName:\"v-show\",value:(!_vm.isExpanded),expression:\"!isExpanded\"}],staticClass:\"level-item compact-button is-hidden-touch\",attrs:{\"icon-right\":\"arrow-expand\",\"data-tippy-content\":\"Expand diagram\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('expand')}}}),_c('b-button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"},{name:\"show\",rawName:\"v-show\",value:(_vm.isExpanded),expression:\"isExpanded\"}],staticClass:\"level-item compact-button is-hidden-touch\",attrs:{\"icon-right\":\"arrow-collapse\",\"data-tippy-content\":\"Collapse diagram\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('collapse')}}})],1)]),_c('div',{attrs:{\"id\":\"network-svg-container\"}},[_c('svg',{attrs:{\"id\":\"network-svg\",\"width\":\"100%\",\"height\":\"100%\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"network-of-references\">\r\n    <div class=\"box has-background-grey\">\r\n      <div class=\"level\">\r\n        <div class=\"level-left has-text-white\">\r\n          <div class=\"level-item\">\r\n            <b-icon icon=\"chart-bubble\"></b-icon>\r\n            <h2 class=\"is-size-5 ml-2\">Citation network</h2>\r\n            <b-icon\r\n              icon=\"information-outline\"\r\n              size=\"is-small\"\r\n              class=\"ml-2\"\r\n              v-show=\"selectedPublications.length\"\r\n              data-tippy-content=\"Showing publications as nodes (<b class='has-text-primary'>selected</b>; <b class='has-text-info'>suggested</b>) with citations as links.<br><br>You can click a publication for details as well as zoom and pan the diagram.\"\r\n              v-tippy\r\n            ></b-icon>\r\n          </div>\r\n        </div>\r\n        <div class=\"level-right\" v-show=\"selectedPublications.length\">\r\n          <b-field\r\n            class=\"level-item has-text-white mr-4 mb-0\"\r\n            data-tippy-content=\"There are two display <span class='key'>m</span>odes:<br><br><b>Timeline:</b> The diagram places publications from left to right based on year, and vertically tries to group linked publications close to each other.<br><br><b>Clusters:</b> The diagram groups linked publications close to each other, irrespective of publication year.\"\r\n            v-tippy\r\n          >\r\n            <label class=\"mr-2\" :class=\"{ 'has-text-grey-light': isClusters }\"\r\n              >Timeline</label\r\n            >\r\n            <b-switch\r\n              v-model=\"isClusters\"\r\n              type=\"is-dark\"\r\n              passive-type=\"is-dark\"\r\n            ></b-switch>\r\n            <label :class=\"{ 'has-text-grey-light': !isClusters }\"\r\n              >Clusters</label\r\n            >\r\n          </b-field>\r\n          <b-button\r\n            class=\"level-item compact-button is-hidden-touch\"\r\n            icon-right=\"arrow-expand\"\r\n            data-tippy-content=\"Expand diagram\"\r\n            v-tippy\r\n            v-show=\"!isExpanded\"\r\n            @click.stop=\"$emit('expand')\"\r\n          ></b-button>\r\n          <b-button\r\n            class=\"level-item compact-button is-hidden-touch\"\r\n            icon-right=\"arrow-collapse\"\r\n            data-tippy-content=\"Collapse diagram\"\r\n            v-tippy\r\n            v-show=\"isExpanded\"\r\n            @click.stop=\"$emit('collapse')\"\r\n          ></b-button>\r\n        </div>\r\n      </div>\r\n      <div id=\"network-svg-container\">\r\n        <svg id=\"network-svg\" width=\"100%\" height=\"100%\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from \"d3\";\r\nimport tippy from \"tippy.js\";\r\nimport \"tippy.js/dist/tippy.css\";\r\nimport _ from \"lodash\";\r\n\r\nconst RECT_SIZE = 20;\r\nconst ENLARGE_FACTOR = 1.5;\r\nconst margin = 20;\r\n\r\nexport default {\r\n  props: {\r\n    selectedPublications: Array,\r\n    suggestedPublications: Array,\r\n    isExpanded: Boolean,\r\n  },\r\n  data: function () {\r\n    return {\r\n      graph: { nodes: [], links: [] },\r\n      simulation: null,\r\n      svg: null,\r\n      svgHeight: Number,\r\n      svgWidth: Number,\r\n      yearMin: Number,\r\n      yearMax: Number,\r\n      node: null,\r\n      link: null,\r\n      label: null,\r\n      isClusters: false,\r\n    };\r\n  },\r\n  watch: {\r\n    selectedPublications: {\r\n      deep: true,\r\n      handler: function () {\r\n        this.plot();\r\n      },\r\n    },\r\n    suggestedPublications: {\r\n      deep: true,\r\n      handler: function () {\r\n        this.plot();\r\n      },\r\n    },\r\n    isClusters: {\r\n      handler: function () {\r\n        this.initForces();\r\n        this.plot(true);\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    const that = this;\r\n\r\n    const container = document.getElementById(\"network-svg-container\");\r\n    this.svgWidth = container.clientWidth;\r\n    this.svgHeight = container.clientHeight;\r\n\r\n    this.svg = d3\r\n      .select(\"#network-svg\")\r\n      .call(\r\n        // eslint-disable-next-line no-unused-vars\r\n        d3.zoom().on(\"zoom\", (event, d) => {\r\n          that.svg.attr(\"transform\", event.transform);\r\n        })\r\n      )\r\n      .append(\"g\");\r\n\r\n    this.simulation = d3.forceSimulation();\r\n    this.simulation.alphaDecay(0.02);\r\n\r\n    this.initForces();\r\n\r\n    this.label = this.svg.append(\"g\").attr(\"class\", \"labels\").selectAll(\"text\");\r\n\r\n    this.link = this.svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"path\");\r\n\r\n    this.node = this.svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"rect\");\r\n  },\r\n  methods: {\r\n    initForces: function () {\r\n      const that = this;\r\n      this.simulation\r\n        .force(\r\n          \"link\",\r\n          d3\r\n            .forceLink()\r\n            .id((d) => d.id)\r\n            .distance(50)\r\n            .strength(!that.isClusters ? 0.08 : 0.15)\r\n        )\r\n        .force(\"charge\", d3.forceManyBody().strength(-180))\r\n        .force(\r\n          \"x\",\r\n          d3\r\n            .forceX()\r\n            .x((d) => this.yearX(d.publication.year))\r\n            .strength(!that.isClusters ? 10 : 0)\r\n        )\r\n        .force(\r\n          \"y\",\r\n          d3\r\n            .forceY()\r\n            .y(0.5 * (that.svgHeight - RECT_SIZE))\r\n            .strength(!that.isClusters ? 0.25 : 0.1)\r\n        )\r\n        .on(\"tick\", this.tick);\r\n    },\r\n\r\n    plot: function (restart) {\r\n      function getRectSize(d) {\r\n        return RECT_SIZE * (d.publication.isActive ? ENLARGE_FACTOR : 1);\r\n      }\r\n\r\n      function getBoostIndicatorSize(d) {\r\n        let factor = 1;\r\n        if (d.publication.boostFactor >= 8) {\r\n          factor = 2;\r\n        } else if (d.publication.boostFactor >= 4) {\r\n          factor = 1.6;\r\n        } else if (d.publication.boostFactor > 1) {\r\n          factor = 1.3;\r\n        }\r\n        return getRectSize(d) * factor * 0.8;\r\n      }\r\n\r\n      const doiToIndex = {};\r\n      this.yearMin = 3000;\r\n      this.yearMax = 0;\r\n\r\n      const nodes = [];\r\n      let i = 0;\r\n      this.selectedPublications\r\n        .concat(this.suggestedPublications)\r\n        .forEach((publication) => {\r\n          if (publication.year) {\r\n            this.yearMin = Math.min(this.yearMin, publication.year);\r\n            this.yearMax = Math.max(this.yearMax, publication.year);\r\n            doiToIndex[publication.doi] = i;\r\n            nodes.push({\r\n              id: publication.doi,\r\n              publication: publication,\r\n            });\r\n            i++;\r\n          }\r\n        });\r\n\r\n      const links = [];\r\n      this.selectedPublications.forEach((publication) => {\r\n        if (publication.doi in doiToIndex) {\r\n          publication.citationDois.forEach((citationDoi) => {\r\n            if (citationDoi in doiToIndex) {\r\n              links.push({\r\n                source: citationDoi,\r\n                target: publication.doi,\r\n              });\r\n            }\r\n          });\r\n          publication.referenceDois.forEach((referenceDoi) => {\r\n            if (referenceDoi in doiToIndex) {\r\n              links.push({\r\n                source: publication.doi,\r\n                target: referenceDoi,\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      // https://observablehq.com/@d3/modifying-a-force-directed-graph\r\n      const old = new Map(this.node.data().map((d) => [d.id, d]));\r\n      this.graph.nodes = nodes.map((d) =>\r\n        Object.assign(old.get(d.id) || { x: this.svgWidth / 2, y: 0 }, d)\r\n      );\r\n      this.graph.links = links.map((d) => Object.assign({}, d));\r\n\r\n      this.node = this.node\r\n        .data(this.graph.nodes, (d) => d.id)\r\n        .join((enter) => {\r\n          const g = enter\r\n            .append(\"g\")\r\n            .attr(\"class\", \"node-container\")\r\n            .attr(\r\n              \"data-tippy-content\",\r\n              (d) =>\r\n                `${\r\n                  d.publication.title ? d.publication.title : \"[unknown title]\"\r\n                } (${\r\n                  d.publication.authorShort\r\n                    ? d.publication.authorShort + \", \"\r\n                    : \"\"\r\n                }${d.publication.year ? d.publication.year : \"[unknown year]\"})`\r\n            );\r\n          g.append(\"rect\");\r\n          g.append(\"text\");\r\n          g.append(\"circle\");\r\n          g.on(\"click\", this.activatePublication);\r\n          tippy(g.nodes(), {\r\n            maxWidth: \"min(400px,70vw)\",\r\n          });\r\n          return g;\r\n        });\r\n\r\n      this.node\r\n        .select(\"rect\")\r\n        .attr(\r\n          \"class\",\r\n          (d) =>\r\n            (d.publication.isSelected ? \"selected\" : \"suggested\") +\r\n            (d.publication.isActive ? \" active\" : \"\") +\r\n            (d.publication.isLinkedToActive ? \" linkedToActive\" : \"\")\r\n        )\r\n        .attr(\"width\", (d) => getRectSize(d))\r\n        .attr(\"height\", (d) => getRectSize(d))\r\n        .attr(\"x\", (d) => -getRectSize(d) / 2)\r\n        .attr(\"y\", (d) => -getRectSize(d) / 2)\r\n        .attr(\"stroke-width\", (d) => (d.publication.isActive ? 4 : 3))\r\n        .attr(\"fill\", (d) => d.publication.scoreColor);\r\n\r\n      this.node\r\n        .select(\"text\")\r\n        .attr(\r\n          \"class\",\r\n          (d) =>\r\n            `${\r\n              !d.publication.isRead && !d.publication.isSelected ? \"unread\" : \"\"\r\n            }`\r\n        )\r\n        .attr(\"y\", 1)\r\n        .attr(\"font-size\", \"0.8em\")\r\n        .text((d) => d.publication.score);\r\n\r\n      this.node\r\n        .select(\"circle\")\r\n        .attr(\"cx\", (d) => getRectSize(d) / 2 - 1)\r\n        .attr(\"cy\", (d) => -getRectSize(d) / 2 + 1)\r\n        .attr(\"r\", (d) =>\r\n          d.publication.boostFactor > 1 ? getBoostIndicatorSize(d) / 6 : 0\r\n        )\r\n        .attr(\"stroke\", \"black\");\r\n\r\n      this.link = this.link\r\n        .data(this.graph.links, (d) => [d.source, d.target])\r\n        .join(\"path\");\r\n\r\n      const yearRange = _.range(this.yearMin - 4, this.yearMax + 1).filter(\r\n        (year) => year % 5 === 0\r\n      );\r\n      this.label = this.label\r\n        .data(yearRange, (d) => d)\r\n        .join((enter) => {\r\n          const g = enter.append(\"g\");\r\n          g.append(\"text\");\r\n          g.append(\"text\");\r\n          return g;\r\n        });\r\n\r\n      this.label\r\n        .selectAll(\"text\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .attr(\r\n          \"visibility\",\r\n          this.selectedPublications.length > 0 && !this.isClusters\r\n            ? \"visible\"\r\n            : \"hidden\"\r\n        )\r\n        .text((d) => d)\r\n        .attr(\"fill\", \"grey\");\r\n\r\n      if (this.selectedPublications.length > 0) {\r\n        this.label\r\n          .attr(\r\n            \"transform\",\r\n            (d) => `translate(${this.yearX(d)},${this.svgHeight - margin})`\r\n          )\r\n          .select(\"text\")\r\n          .attr(\"y\", -this.svgHeight + 2 * margin);\r\n      }\r\n\r\n      this.simulation.nodes(this.graph.nodes);\r\n      this.simulation.force(\"link\").links(this.graph.links);\r\n      if (restart) {\r\n        this.simulation.alpha(0.4);\r\n      }\r\n      this.simulation.restart();\r\n    },\r\n\r\n    tick: function () {\r\n      this.link\r\n        .attr(\"d\", (d) => {\r\n          var dx = d.target.x - d.source.x,\r\n            dy = d.target.y - d.source.y,\r\n            dr = Math.pow(dx * dx + dy * dy, 0.6);\r\n          return (\r\n            \"M\" +\r\n            d.target.x +\r\n            \",\" +\r\n            d.target.y +\r\n            \"A\" +\r\n            dr +\r\n            \",\" +\r\n            dr +\r\n            \" 0 0,1 \" +\r\n            d.source.x +\r\n            \",\" +\r\n            d.source.y\r\n          );\r\n        })\r\n        .attr(\r\n          \"class\",\r\n          (d) =>\r\n            (d.source.publication.isActive || d.target.publication.isActive\r\n              ? \"active\"\r\n              : \"\") +\r\n            (d.source.publication.isSelected && d.target.publication.isSelected\r\n              ? \"\"\r\n              : \" external\")\r\n        );\r\n\r\n      this.node.attr(\"transform\", (d) => `translate(${d.x}, ${d.y})`);\r\n    },\r\n\r\n    yearX: function (year) {\r\n      return (\r\n        ((year - this.yearMin) / Math.sqrt(1 + this.yearMax - this.yearMin)) *\r\n        this.svgWidth *\r\n        0.15\r\n      );\r\n    },\r\n\r\n    activatePublication: function (event, d) {\r\n      this.$emit(\"activate\", d.publication.doi);\r\n      event.stopPropagation();\r\n    },\r\n\r\n    toggleMode() {\r\n      this.isClusters = !this.isClusters;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"~bulma/sass/utilities/_all\";\r\n\r\n.network-of-references .box {\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-rows: max-content auto;\r\n}\r\n\r\n#network-svg {\r\n  background: white;\r\n\r\n  & g.node-container {\r\n    cursor: pointer;\r\n\r\n    & rect {\r\n      cursor: pointer;\r\n      stroke-width: 2;\r\n\r\n      &.selected {\r\n        stroke: $primary;\r\n      }\r\n      &.suggested {\r\n        stroke: $info;\r\n      }\r\n      &.active {\r\n        stroke-width: 6;\r\n      }\r\n      &.linkedToActive {\r\n        stroke-width: 4;\r\n      }\r\n    }\r\n\r\n    & circle {\r\n      fill: $warning;\r\n    }\r\n\r\n    & text {\r\n      text-anchor: middle;\r\n      dominant-baseline: middle;\r\n    }\r\n\r\n    & text.unread {\r\n      fill: $info-dark;\r\n      font-weight: 1000;\r\n    }\r\n\r\n    &:hover rect {\r\n      transform: scale(1.2);\r\n    }\r\n  }\r\n  & path {\r\n    fill: none;\r\n    stroke-width: 2;\r\n    stroke: #00000010;\r\n\r\n    &.external {\r\n      stroke: #00000006;\r\n    }\r\n\r\n    &.active {\r\n      stroke: #000000aa;\r\n      stroke-dasharray: 5 5;\r\n\r\n      &.external {\r\n        stroke: #00000066;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@include touch {\r\n  .network-of-references {\r\n    padding: 0 !important;\r\n  }\r\n  .network-of-references .box {\r\n    padding: 0.5rem;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkVisComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkVisComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NetworkVisComponent.vue?vue&type=template&id=0e54d7c0&\"\nimport script from \"./NetworkVisComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./NetworkVisComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NetworkVisComponent.vue?vue&type=style&index=0&id=0e54d7c0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('button',{staticClass:\"button has-background-primary has-text-white\",on:{\"click\":function($event){return _vm.scrollTo('selected')}}},[_c('b-icon',{attrs:{\"icon\":\"water-outline\"}})],1),_c('button',{staticClass:\"button has-background-info has-text-white\",on:{\"click\":function($event){return _vm.scrollTo('suggested')}}},[_c('b-icon',{attrs:{\"icon\":\"water-plus-outline\"}})],1),_c('button',{staticClass:\"button has-background-grey has-text-white\",on:{\"click\":function($event){return _vm.scrollTo('network')}}},[_c('b-icon',{attrs:{\"icon\":\"chart-bubble\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <button\r\n      class=\"button has-background-primary has-text-white\"\r\n      @click=\"scrollTo('selected')\"\r\n    >\r\n      <b-icon icon=\"water-outline\"></b-icon>\r\n    </button>\r\n    <button\r\n      class=\"button has-background-info has-text-white\"\r\n      @click=\"scrollTo('suggested')\"\r\n    >\r\n      <b-icon icon=\"water-plus-outline\"></b-icon>\r\n    </button>\r\n    <button\r\n      class=\"button has-background-grey has-text-white\"\r\n      @click=\"scrollTo('network')\"\r\n    >\r\n      <b-icon icon=\"chart-bubble\"></b-icon>\r\n    </button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { scrollToTargetAdjusted } from \"./../Util.js\";\r\n\r\nexport default {\r\n  name: \"QuickAccessBar\",\r\n  methods: {\r\n    scrollTo(id) {\r\n      scrollToTargetAdjusted(document.getElementById(id), 55);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"~bulma/sass/utilities/_all\";\r\n\r\nbutton {\r\n  margin: 0.5rem;\r\n  box-shadow: 0.25rem 0.25rem 0.75rem grey;\r\n\r\n  & .icon {\r\n    height: 2rem !important;\r\n    width: 2rem !important;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuickAccessBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuickAccessBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuickAccessBar.vue?vue&type=template&id=7e9c2158&scoped=true&\"\nimport script from \"./QuickAccessBar.vue?vue&type=script&lang=js&\"\nexport * from \"./QuickAccessBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuickAccessBar.vue?vue&type=style&index=0&id=7e9c2158&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e9c2158\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header has-background-primary\"},[_c('p',{staticClass:\"card-header-title has-text-white\"},[_c('b-icon',{attrs:{\"icon\":\"magnify\"}}),_vm._v(\" Search Publications \")],1)]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('section',[_c('form',{staticClass:\"field has-addons\",on:{\"submit\":function($event){$event.preventDefault();return _vm.search.apply(null, arguments)}}},[_c('p',{staticClass:\"control is-expanded\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],ref:\"searchInput\",staticClass:\"input search-publication\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.searchQuery)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchQuery=$event.target.value}}})]),_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"button level-right has-background-primary-light\",attrs:{\"type\":\"submit\",\"icon-left\":\"magnify\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.search.apply(null, arguments)}}})],1)]),_c('ul',{staticClass:\"publication-list\"},[_vm._l((_vm.filteredSearchResults),function(item){return _c('li',{key:item.DOI,staticClass:\"publication-component media\"},[_c('div',{staticClass:\"media-content\"},[_c('b',[_vm._v(\" \"+_vm._s(item.title[0] + (item.subtitle && item.title[0] !== item.subtitle[0] ? \" \" + item.subtitle[0] : \"\"))+\" \")]),(item.author)?_c('span',[_vm._v(\" \"+_vm._s(_vm.createShortReference(item)))]):_vm._e(),_c('span',[_vm._v(\" DOI: \"),_c('a',{attrs:{\"href\":`https://doi.org/${item.DOI}`}},[_vm._v(_vm._s(item.DOI))])]),_c('span',[_c('a',{staticClass:\"ml-2\",attrs:{\"href\":`https://scholar.google.de/scholar?hl=en&q=${\r\n                      item.title\r\n                    } ${\r\n                      item.author\r\n                        ? item.author.map((name) => name.family).join(' ')\r\n                        : ''\r\n                    }`}},[_c('b-icon',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],attrs:{\"icon\":\"school\",\"size\":\"is-small\",\"data-tippy-content\":\"Google Scholar\"}})],1)])]),_c('div',{staticClass:\"media-right\"},[_c('div',[_c('b-button',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"is-primary is-small\",attrs:{\"icon-left\":\"plus-thick\",\"data-tippy-content\":\"Add publication to list of selected publications.\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('add', item.DOI)}}})],1)])])}),_c('b-loading',{model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}})],2)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { cachedFetch } from \"./Cache.js\";\r\n\r\nexport default class PublicationSearch {\r\n\r\n    constructor(query) {\r\n        this.query = query;\r\n    }\r\n\r\n    async execute() {\r\n        const simplifiedQuery = this.query.replace(/\\W+/g, \"+\").toLowerCase();\r\n        console.log(`Searching for publications with title or similar to '${this.query}'.`)\r\n        let results = [];\r\n        await cachedFetch(\r\n            `https://api.crossref.org/works?query=${simplifiedQuery}&mailto=fabian.beck@uni-bamberg.de&filter=has-references:true`,\r\n            (data) => {\r\n                data.message.items.filter(item => item.title).forEach((item) => {\r\n                    results.push(item);\r\n                });\r\n            }\r\n        );\r\n        return results;\r\n    }\r\n\r\n    computeTitleSimilarity(query, title) {\r\n        const stopwords = [\"the\", \"for\", \"with\", \"and\"]; // for words with length > 2\r\n        let equivalentWordCounter = 0;\r\n        let wordCounter = 0;\r\n        let normalizedTitle = \" \" + title.replace(/\\W+/g, \" \").toLowerCase() + \" \"\r\n        query.split(\"+\").forEach((word) => {\r\n            if (word.length > 2 && stopwords.indexOf(word) === -1) {\r\n                wordCounter++;\r\n                if (normalizedTitle.indexOf(\" \" + word + \" \") >= 0) {\r\n                    equivalentWordCounter++;\r\n                }\r\n            }\r\n        });\r\n        return (\r\n            equivalentWordCounter / wordCounter\r\n        );\r\n    }\r\n\r\n}","<template>\r\n  <div class=\"card\">\r\n    <header class=\"card-header has-background-primary\">\r\n      <p class=\"card-header-title has-text-white\">\r\n        <b-icon icon=\"magnify\"></b-icon> Search Publications\r\n      </p>\r\n    </header>\r\n    <div class=\"card-content\">\r\n      <div class=\"content\">\r\n        <section>\r\n          <form v-on:submit.prevent=\"search\" class=\"field has-addons\">\r\n            <p class=\"control is-expanded\">\r\n              <input\r\n                class=\"input search-publication\"\r\n                type=\"text\"\r\n                v-model=\"searchQuery\"\r\n                ref=\"searchInput\"\r\n              />\r\n            </p>\r\n            <p class=\"control\">\r\n              <b-button\r\n                class=\"button level-right has-background-primary-light\"\r\n                type=\"submit\"\r\n                icon-left=\"magnify\"\r\n                @click.stop=\"search\"\r\n              >\r\n              </b-button>\r\n            </p>\r\n          </form>\r\n          <ul class=\"publication-list\">\r\n            <li\r\n              v-for=\"item in filteredSearchResults\"\r\n              class=\"publication-component media\"\r\n              :key=\"item.DOI\"\r\n            >\r\n              <div class=\"media-content\">\r\n                <b>\r\n                  {{\r\n                    item.title[0] +\r\n                    (item.subtitle && item.title[0] !== item.subtitle[0]\r\n                      ? \" \" + item.subtitle[0]\r\n                      : \"\")\r\n                  }} </b\r\n                ><span v-if=\"item.author\">\r\n                  {{ createShortReference(item) }}</span\r\n                >\r\n                <span>\r\n                  DOI:\r\n                  <a :href=\"`https://doi.org/${item.DOI}`\">{{ item.DOI }}</a>\r\n                </span>\r\n                <span>\r\n                  <a\r\n                    :href=\"`https://scholar.google.de/scholar?hl=en&q=${\r\n                      item.title\r\n                    } ${\r\n                      item.author\r\n                        ? item.author.map((name) => name.family).join(' ')\r\n                        : ''\r\n                    }`\"\r\n                    class=\"ml-2\"\r\n                  >\r\n                    <b-icon\r\n                      icon=\"school\"\r\n                      size=\"is-small\"\r\n                      data-tippy-content=\"Google Scholar\"\r\n                      v-tippy\r\n                    ></b-icon\r\n                  ></a>\r\n                </span>\r\n              </div>\r\n              <div class=\"media-right\">\r\n                <div>\r\n                  <b-button\r\n                    class=\"is-primary is-small\"\r\n                    icon-left=\"plus-thick\"\r\n                    data-tippy-content=\"Add publication to list of selected publications.\"\r\n                    @click.stop=\"$emit('add', item.DOI)\"\r\n                    v-tippy\r\n                  >\r\n                  </b-button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <b-loading v-model=\"isLoading\"></b-loading>\r\n          </ul>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PublicationSearch from \"./../PublicationSearch.js\";\r\n\r\nexport default {\r\n  name: \"SearchPanel\",\r\n  props: {\r\n    initialSearchQuery: String,\r\n    selectedPublicationsDois: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: \"\",\r\n      searchResults: [],\r\n      isLoading: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.searchQuery = this.initialSearchQuery;\r\n    setTimeout(() => {\r\n      this.$refs.searchInput.focus();\r\n    }, 300);\r\n    if (this.searchQuery) {\r\n        this.search();\r\n    }\r\n  },\r\n  computed: {\r\n    filteredSearchResults: function () {\r\n      return this.searchResults.filter(\r\n        (item) => !this.selectedPublicationsDois.includes(item.DOI)\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    search: async function () {\r\n      this.isLoading = true;\r\n      const publicationSearch = new PublicationSearch(this.searchQuery);\r\n      this.searchResults = await publicationSearch.execute();\r\n      if (this.filteredSearchResults.length === 0) {\r\n          this.$emit(\"searchEmpty\");\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n    createShortReference: function (item) {\r\n      const lastNames = item.author\r\n        .filter((name) => name.family)\r\n        .map((name) => name.family);\r\n      let authorShort = \"\";\r\n      if (lastNames.length > 0) {\r\n        authorShort = lastNames[0];\r\n        if (lastNames.length === 2) {\r\n          authorShort += \" and \" + lastNames[1];\r\n        } else {\r\n          authorShort += \" et al.\";\r\n        }\r\n      }\r\n      let year = \"\";\r\n      if (item.published) {\r\n        year = item.published[\"date-parts\"][0][0];\r\n      }\r\n      if (authorShort && year) {\r\n        return `(${authorShort}, ${year})`;\r\n      }\r\n      return `(${authorShort + year})`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~bulma/sass/utilities/_all\";\r\n\r\n.publication-list {\r\n  padding: 0;\r\n  margin: 0;\r\n  list-style: none;\r\n  height: 50vh;\r\n  overflow-y: scroll;\r\n  border: 1px solid $border;\r\n}\r\n\r\n.publication-list li {\r\n  margin: 0 !important;\r\n  padding: 0.5rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPanel.vue?vue&type=template&id=7ffd2624&scoped=true&\"\nimport script from \"./SearchPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchPanel.vue?vue&type=style&index=0&id=7ffd2624&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ffd2624\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\",attrs:{\"id\":\"about\"}},[_vm._m(0),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('section',[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('span',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(this.$appNameHtml)}})]),_c('div',{staticClass:\"level-item\"},[_c('span',{staticClass:\"subtitle\"},[_vm._v(_vm._s(this.$appSubtitle))])])]),_c('div',{staticClass:\"level-right\"},[_c('span',{staticClass:\"is-size-7 level-item\"},[_c('label',[_vm._v(\"Version: \")]),_vm._v(_vm._s(this.$version))])])]),_vm._m(1),_c('p',[_vm._v(\" The code is available on \"),_c('a',{attrs:{\"href\":\"https://github.com/fabian-beck/pure-suggest\"}},[_vm._v(\"GitHub \"),_c('b-icon',{attrs:{\"icon\":\"github\",\"size\":\"is-small\"}})],1),_vm._v(\" under \"),_c('a',{attrs:{\"href\":\"https://github.com/fabian-beck/pure-suggest/blob/master/LICENSE\"}},[_vm._v(\"MIT License \"),_c('b-icon',{attrs:{\"icon\":\"license\",\"size\":\"is-small\"}})],1),_vm._v(\". \")]),_c('h2',[_c('b-icon',{attrs:{\"icon\":\"file-document\"}}),_vm._v(\" Scientific Publication\")],1),_c('p',[_vm._v(\" If you want to cite the tool, you can refer to the following publication: \")]),_vm._m(2),_c('h2',[_c('b-icon',{attrs:{\"icon\":\"database\"}}),_vm._v(\" Data Sources\")],1),_c('p',[_vm._v(\" APIs by the following projects are used to retrieve the literature meta-data and citation information. \")]),_vm._m(3),_c('h2',[_c('b-icon',{attrs:{\"icon\":\"tools\"}}),_vm._v(\" Similar Tools\")],1),_vm._m(4),_vm._m(5),_c('h2',[_c('b-icon',{attrs:{\"icon\":\"card-account-mail\"}}),_vm._v(\" Contact\")],1),_vm._m(6),_vm._m(7),_vm._m(8)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('header',{staticClass:\"card-header has-background-primary\"},[_c('p',{staticClass:\"card-header-title has-text-white\"},[_vm._v(\"About\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('em',[_vm._v(\"PURE suggest\")]),_vm._v(\" is a scientific literature search tool that, starting from some seed papers, suggests scientific publications through citations/references. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_vm._v(\" Beck, F. and Krause, C., 2022. Visually Explaining Publication Ranks in Citation-based Literature Search with PURE suggest. In EuroVis 2022 - Posters. DOI: \"),_c('a',{attrs:{\"href\":\"https://diglib.eg.org/handle/10.2312/evp20221110\"}},[_vm._v(\"10.2312/evp.20221110\")]),_vm._v(\". [\"),_c('a',{attrs:{\"href\":\"https://diglib.eg.org/bitstream/handle/10.2312/evp20221110/019-021.pdf\"}},[_vm._v(\"PDF\")]),_vm._v(\"] \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://opencitations.net/\"}},[_vm._v(\"OpenCitations\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://www.crossref.org/\"}},[_vm._v(\"CrossRef\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('em',[_vm._v(\"PURE suggest\")]),_vm._v(\" is not the first of its kind, but other tools are available that also provide a visually supported literature search through citation links. Try them out and decide yourself which one you like best! \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://www.citationgecko.com/\"}},[_vm._v(\"Citation Gecko\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://www.connectedpapers.com\"}},[_vm._v(\"Connected Papers\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://www.researchrabbit.ai/\"}},[_vm._v(\"Research Rabbit\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('em',[_vm._v(\"PURE suggest\")]),_vm._v(\" has been created by:\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('a',{attrs:{\"href\":\"https://github.com/fabian-beck\"}},[_vm._v(\"Fabian Beck\")]),_vm._v(\" \"),_c('br'),_vm._v(\" University of Bamberg \"),_c('br'),_vm._v(\" 96047 Bamberg, Germany \"),_c('br'),_c('a',{attrs:{\"href\":\"mailto:fabian.beck@uni-bamberg.de\"}},[_vm._v(\"fabian.beck@uni-bamberg.de\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" Thanks a lot to all other contributors, especially \"),_c('a',{attrs:{\"href\":\"https://github.com/cedrickrause\"}},[_vm._v(\"Cedric Krause\")]),_vm._v(\". \")])\n}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AboutPage.vue?vue&type=template&id=6bd7ac54&scoped=true&\"\nvar script = {}\nimport style0 from \"./AboutPage.vue?vue&type=style&index=0&id=6bd7ac54&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bd7ac54\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\",attrs:{\"id\":\"keyboardControls\"}},[_c('header',{staticClass:\"card-header has-background-primary\"},[_c('p',{staticClass:\"card-header-title has-text-white\"},[_vm._v(\"Keyboard Controls\")])]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('section',[_c('p',[_vm._v(\" You can use the following keyboard shortcuts to control the application. \")]),_c('h2',[_vm._v(\"General\")]),_c('ul',[_c('li',[_c('b',[_vm._v(\"a\")]),_vm._v(\" – Jump to \\\"Add\\\" input field\")]),_c('li',[_c('b',[_vm._v(\"s\")]),_vm._v(\" – Open \\\"Search\\\" dialog\")]),_c('li',[_c('b',[_vm._v(\"b\")]),_vm._v(\" – Jump to \\\"Boost\\\" input field\")]),_c('li',[_c('b',[_vm._v(\"c\")]),_vm._v(\" – Clear session\")]),_c('li',[_c('b',[_vm._v(\"Arrow left\")]),_vm._v(\" – Jump to first publication of \\\"Selected\\\" \")]),_c('li',[_c('b',[_vm._v(\"Arrow right\")]),_vm._v(\" – Jump to first publication of \\\"Suggested\\\" \")]),_c('li',[_c('b',[_vm._v(\"Arrow down\")]),_vm._v(\" – Move one publication down (if one is active) \")]),_c('li',[_c('b',[_vm._v(\"Arrow up\")]),_vm._v(\" – Move one publication up (if one is active) \")]),_c('li',[_c('b',[_vm._v(\"Escape\")]),_vm._v(\" – Escape input field or active publication \")]),_c('li',[_c('b',[_vm._v(\"m\")]),_vm._v(\" – Toggle mode of citation network visualization between \"),_c('em',[_vm._v(\"timeline\")]),_vm._v(\" and \"),_c('em',[_vm._v(\"clusters\")])])]),_c('h2',[_vm._v(\"Active Publication\")]),_c('p',[_vm._v(\"If a publication is marked as active:\")]),_c('ul',[_c('li',[_c('b',[_vm._v(\"+ (plus)\")]),_vm._v(\" – Add publication to selection\")]),_c('li',[_c('b',[_vm._v(\"- (minus)\")]),_vm._v(\" – Exclude publication from selection/suggestion \")]),_c('li',[_c('b',[_vm._v(\"d\")]),_vm._v(\" – Open \\\"DOI\\\" link\")]),_c('li',[_c('b',[_vm._v(\"o\")]),_vm._v(\" – Open \\\"Open access\\\" link\")]),_c('li',[_c('b',[_vm._v(\"g\")]),_vm._v(\" – Open \\\"Google Scholar\\\" link\")]),_c('li',[_c('b',[_vm._v(\"x\")]),_vm._v(\" – Export as BibTeX citation\")])])])])])])\n}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./KeyboardControlsPage.vue?vue&type=template&id=5a462f7a&scoped=true&\"\nvar script = {}\nimport style0 from \"./KeyboardControlsPage.vue?vue&type=style&index=0&id=5a462f7a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a462f7a\",\n  null\n  \n)\n\nexport default component.exports","import _ from \"lodash\";\r\n\r\nimport { cachedFetch } from \"./Cache.js\";\r\nimport { shuffle } from \"./Util.js\"\r\n\r\nexport default class Publication {\r\n    constructor(doi) {\r\n        // identifier\r\n        this.doi = doi.toLowerCase();\r\n        this.doiUrl = \"https://doi.org/\" + doi;\r\n        // meta-data\r\n        this.title = \"\";\r\n        this.titleHighlighted = \"\";\r\n        this.year = undefined;\r\n        this.author = undefined;\r\n        this.authorShort = undefined;\r\n        this.authorOrcid = undefined;\r\n        this.container = undefined;\r\n        this.volume = undefined;\r\n        this.issue = undefined;\r\n        this.page = undefined;\r\n        this.oaLink = undefined;\r\n        this.abstract = undefined;\r\n        // citation-related data\r\n        this.citationDois = [];\r\n        this.referenceDois = [];\r\n        this.citationCount = 0;\r\n        this.referenceCount = 0;\r\n        this.boostMatches = 0;\r\n        this.boostFactor = 1;\r\n        this.score = 0;\r\n        this.scoreColor = \"#FFF\";\r\n        this.isSurvey = false;\r\n        this.citationsPerYear = 0;\r\n        this.isHighlyCited = false;\r\n        this.isNew = false;\r\n        // interface properties\r\n        this.isActive = false;\r\n        this.isLinkedToActive = false;\r\n        this.isSelected = false;\r\n        this.isRead = false;\r\n    }\r\n\r\n    async fetchData() {\r\n        if (!this.title) {\r\n            await cachedFetch(\r\n                `https://opencitations.net/index/coci/api/v1/metadata/${this.doi}`,\r\n                message => {\r\n                    if (!message || message.length === 0) {\r\n                        console.error(`Unable to process metadata for DOI \"${this.doi}\" because of empty message.`);\r\n                        return;\r\n                    }\r\n                    const data = message[0];\r\n                    // title\r\n                    this.title = data.title;\r\n                    this.title = \"\";\r\n                    data.title.split(\" \").forEach(word => {\r\n                        const mappedWord = TITLE_WORD_MAP[word.toLowerCase()];\r\n                        this.title += (mappedWord ? mappedWord : word) + \" \";\r\n                    });\r\n                    this.title = this.title.charAt(0).toUpperCase() + this.title.slice(1); // make first character uppercase\r\n                    this.title = this.title.trim();\r\n                    // author\r\n                    if (data.author) {\r\n                        const authorArray = data.author.split('; ');\r\n                        if (authorArray.length === 1) {\r\n                            this.authorShort = authorArray[0].split(', ')[0];\r\n                        } else if (authorArray.length === 2) {\r\n                            this.authorShort = `${authorArray[0].split(', ')[0]} and ${authorArray[1].split(', ')[0]}`;\r\n                        } else if (authorArray.length > 2) {\r\n                            this.authorShort = `${authorArray[0].split(', ')[0]} et al.`;\r\n                        }\r\n                        this.author = data.author.replace(/(,\\s+)(\\d{4}-\\d{4}-\\d{4}-\\d{3}[0-9X]{1})/g, \"\");\r\n                        this.authorOrcid = data.author.replace(/(,\\s+)(\\d{4}-\\d{4}-\\d{4}-\\d{3}[0-9X]{1})/g, \" <a href='https://orcid.org/$2'><img alt='ORCID logo' src='https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png' width='14' height='14' /></a>\");\r\n                    }\r\n                    // container (booktitle or journal) \r\n                    this.container = \"\";\r\n                    data.source_title.split(\" \").forEach(word => {\r\n                        let mappedWord = \"\";\r\n                        if (/\\(.+\\)/.test(word)) { // acronyms in brackets\r\n                            mappedWord = word.toUpperCase();\r\n                        } else if (/\\d+(st|nd|rd|th)/i.test(word)) { // 1st 2nd 3rd 4th etc.\r\n                            mappedWord = word.toLowerCase();\r\n                        } else if (/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})(\\.?)$/i.test(word)) { // roman numerals - see: https://regexpattern.com/roman-numerals/\r\n                            mappedWord = word.toUpperCase();\r\n                        } else {\r\n                            mappedWord = TITLE_WORD_MAP[word.toLowerCase()];\r\n                        }\r\n                        this.container += (mappedWord ? mappedWord : word) + \" \";\r\n                    });\r\n                    this.container = _.trim(this.container, '. ');\r\n                    this.container = this.container.charAt(0).toUpperCase() + this.container.slice(1); // make first character uppercase\r\n                    // bibString meta-data\r\n                    this.year = data.year;\r\n                    if (!this.year) {\r\n                        const match = this.doi.match(/\\.((19|20)\\d\\d)\\./);\r\n                        if (match) {\r\n                            this.year = match[1];\r\n                        }\r\n                    }\r\n                    this.volume = data.volume;\r\n                    this.issue = data.issue;\r\n                    this.page = data.page;\r\n                    this.oaLink = data.oa_link;\r\n                    this.gsUrl = `https://scholar.google.de/scholar?hl=en&q=${this.title\r\n                        } ${this.author ? this.author : ''}`\r\n                    // references and citations\r\n                    data.reference.split(\"; \").forEach(referenceDoi => {\r\n                        if (referenceDoi) {\r\n                            this.referenceDois.push(referenceDoi.toLowerCase());\r\n                        }\r\n                    });\r\n                    data.citation.split(\"; \").forEach(citationDoi => {\r\n                        if (citationDoi) {\r\n                            this.citationDois.push(citationDoi.toLowerCase());\r\n                        }\r\n                    });\r\n                    this.citationsPerYear = this.citationDois.length / (Math.max(1, CURRENT_YEAR - this.year));\r\n                    // tags\r\n                    if (this.referenceDois.length > 100) {\r\n                        this.isSurvey = `more than 100 references (${this.referenceDois.length})`;\r\n                    } else if (this.referenceDois.length >= 50 && /.*(survey|state|review|advances|future).*/i.test(this.title)) {\r\n                        this.isSurvey = `more than 50 references (${this.referenceDois.length}) and \"${/(survey|state|review|advances|future)/i.exec(this.title)[0]}\" in the title`;\r\n                    }\r\n                    this.isHighlyCited = this.citationsPerYear > 10 ? `more than 10 citations per year (${this.citationsPerYear.toFixed(1)})` : false;\r\n                    this.isNew = (CURRENT_YEAR - this.year) < 2 ? \"published within the last two calendar years\" : false;\r\n                }\r\n            );\r\n            await cachedFetch(`https://api.crossref.org/v1/works/${this.doi}?mailto=fabian.beck@uni-bamberg.de`, response => {\r\n                if (response.message.abstract) {\r\n                    this.abstract = response.message.abstract.replaceAll(/<jats:/gi, \"<\").replaceAll(/<\\/jats:/gi, \"</\").replaceAll(/<.*?>abstract<.*?>/gi, \"\");\r\n                }\r\n                const subtitle = response.message.subtitle;\r\n                if (subtitle.length && this.title.toLowerCase().indexOf(subtitle[0].toLowerCase())) {\r\n                    // merging title and subtitle, while adding a colon only when title does not end with a non-alpha-numeric character (cleaning potential html tags first)\r\n                    const cleanedTitle = this.title.replaceAll(/<[^>]*>/g, \"\");\r\n                    this.title = `${this.title}${cleanedTitle.match(/^.*\\W$/) ? \"\" : \":\"}  ${subtitle[0]}`;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    updateScore(boostKeywords) {\r\n        this.boostMatches = 0;\r\n        this.boostFactor = 1;\r\n        // use an array to keep track of highlighted title fragements\r\n        let titleFragments = [this.title];\r\n        // iterate over all boost keywords\r\n        boostKeywords.forEach(boostKeyword => {\r\n            if (!boostKeyword) {\r\n                return\r\n            }\r\n            // iterate overa all title fragments\r\n            for (let i = 0; i < titleFragments.length; i++) {\r\n                const titleFragment = titleFragments[i];\r\n                // ignore already highlighted parts\r\n                if (titleFragment.indexOf(\"<\") == 0) {\r\n                    continue\r\n                }\r\n                // search keyword in title fragement\r\n                const index = titleFragment.toLowerCase().indexOf(boostKeyword);\r\n                if (index >= 0) {\r\n                    // split matched title fragement\r\n                    this.boostMatches += 1;\r\n                    this.boostFactor = this.boostFactor * 2;\r\n                    titleFragments[i] = [\r\n                        titleFragment.substring(0, index),\r\n                        \"<u style='text-decoration-color: hsl(48, 100%, 67%); text-decoration-thickness: 0.25rem;'>\" + titleFragment.substring(index, index + boostKeyword.length) + \"</u>\",\r\n                        titleFragment.substring(index + boostKeyword.length)\r\n                    ];\r\n                    break\r\n                }\r\n            }\r\n            // flatten the array for matching the next keyword\r\n            titleFragments = titleFragments.flat();\r\n        });\r\n        // join highlighted title\r\n        this.titleHighlighted = titleFragments.join(\"\");\r\n        // update score\r\n        this.score = (this.citationCount + this.referenceCount) * this.boostFactor;\r\n        // update score color\r\n        let lightness = 100;\r\n        if (this.score >= 20) {\r\n            lightness = 50;\r\n        } else if (this.score >= 10) {\r\n            lightness = 70;\r\n        } else if (this.score >= 5) {\r\n            lightness = 80;\r\n        } else if (this.score >= 3) {\r\n            lightness = 90;\r\n        } else if (this.score >= 2) {\r\n            lightness = 95;\r\n        }\r\n        this.scoreColor = `hsl(0, 0%, ${lightness}%)`;\r\n    }\r\n\r\n    toBibtex() {\r\n        let type = \"misc\";\r\n        let bibString = \"\";\r\n        if (this.title) {\r\n            bibString += `\r\n    title = {${this.title}},`;\r\n        }\r\n        if (this.author) {\r\n            bibString += `\r\n    author = {${this.author.replaceAll(\";\", \" and\")}},`;\r\n        }\r\n        if (this.year) {\r\n            bibString += `\r\n    year = {${this.year}},`;\r\n        }\r\n        if (this.volume) {\r\n            type = \"article\"\r\n            bibString += `\r\n    journal = {${this.container}},\r\n    volume = {${this.volume}},`;\r\n            if (this.issue) {\r\n                bibString += `\r\n    number = {${this.issue}},`;\r\n            }\r\n        } else if (this.container) {\r\n            const container = this.container.toLowerCase();\r\n            type = (container.indexOf(\"proceedings\") >= 0 || container.indexOf(\"conference\") >= 0 || container.indexOf(\"symposium\") >= 0 || container.indexOf(\"workshop\") >= 0) ? \"inproceedings\" : \"incollection\";\r\n            bibString += `\r\n    booktitle = {${this.container}},`;\r\n        }\r\n        if (this.page) {\r\n            bibString += `\r\n    pages = {${this.page}},`;\r\n        }\r\n        return `@${type}{${this.doi},${bibString}\r\n    doi = {${this.doi}}\r\n}`;\r\n    }\r\n\r\n    static async computeSuggestions(publications, excludedPublicationsDois, boostKeywords, updateLoadingToast, maxSuggestions) {\r\n\r\n        function incrementSuggestedPublicationCounter(\r\n            doi,\r\n            counter,\r\n            doiList,\r\n            sourceDoi\r\n        ) {\r\n            if (!excludedPublicationsDois.has(doi)) {\r\n                if (!publications[doi]) {\r\n                    if (!suggestedPublications[doi]) {\r\n                        const citingPublication = new Publication(doi);\r\n                        suggestedPublications[doi] = citingPublication;\r\n                    }\r\n                    suggestedPublications[doi][doiList].push(sourceDoi);\r\n                    suggestedPublications[doi][counter]++;\r\n                } else {\r\n                    publications[doi][counter]++;\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(`Starting to compute new suggestions based on ${Object.keys(publications).length} selected (and ${excludedPublicationsDois.size} excluded).`);\r\n        const suggestedPublications = {};\r\n        Object.values(publications).forEach((publication) => {\r\n            publication.citationCount = 0;\r\n            publication.referenceCount = 0;\r\n        });\r\n        Object.values(publications).forEach((publication) => {\r\n            publication.citationDois.forEach((citationDoi) => {\r\n                incrementSuggestedPublicationCounter(\r\n                    citationDoi,\r\n                    \"citationCount\",\r\n                    \"referenceDois\",\r\n                    publication.doi\r\n                );\r\n            });\r\n            publication.referenceDois.forEach((referenceDoi) => {\r\n                incrementSuggestedPublicationCounter(\r\n                    referenceDoi,\r\n                    \"referenceCount\",\r\n                    \"citationDois\",\r\n                    publication.doi\r\n                );\r\n            });\r\n        });\r\n        Object.values(publications).forEach((publication) =>\r\n            publication.updateScore(boostKeywords)\r\n        );\r\n        let filteredSuggestions = Object.values(suggestedPublications);\r\n        filteredSuggestions = shuffle(filteredSuggestions, 0);\r\n        console.log(`Identified ${filteredSuggestions.length} publications as suggestions.`);\r\n        // titles not yet fetched, that is why sorting can be only done on citations/references\r\n        filteredSuggestions.sort(\r\n            (a, b) =>\r\n                b.citationCount + b.referenceCount - (a.citationCount + a.referenceCount)\r\n        );\r\n        filteredSuggestions = filteredSuggestions.slice(0, maxSuggestions);\r\n        console.log(`Filtered suggestions to ${filteredSuggestions.length} top candidates, loading metadata for these.`);\r\n        let publicationsLoadedCount = 0;\r\n        updateLoadingToast(`${publicationsLoadedCount}/${filteredSuggestions.length} suggestions loaded`, \"is-info\");\r\n        await Promise.all(filteredSuggestions.map(async (suggestedPublication) => {\r\n            await suggestedPublication.fetchData()\r\n            publicationsLoadedCount++;\r\n            updateLoadingToast(`${publicationsLoadedCount}/${filteredSuggestions.length} suggestions loaded`, \"is-info\");\r\n        }));\r\n        filteredSuggestions.forEach((publication) =>\r\n            publication.updateScore(boostKeywords)\r\n        );\r\n        this.sortPublications(filteredSuggestions);\r\n        console.log(\"Completed computing and loading of new suggestions.\");\r\n        return {\r\n            publications: Object.values(filteredSuggestions),\r\n            totalSuggestions: Object.values(suggestedPublications).length\r\n        };\r\n    }\r\n\r\n    static sortPublications(publicationList) {\r\n        publicationList.sort((a, b) => {\r\n            return b.score - 1 / (b.citationsPerYear + 1) - (a.score - 1 / (a.citationsPerYear + 1))\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst CURRENT_YEAR = new Date().getFullYear();\r\n\r\nconst TITLE_WORD_MAP = {\r\n    \"a\": \"a\",\r\n    \"an\": \"an\",\r\n    \"acm\": \"ACM\",\r\n    \"and\": \"and\",\r\n    \"by\": \"by\",\r\n    \"chi\": \"CHI\",\r\n    \"during\": \"during\",\r\n    \"for\": \"for\",\r\n    \"from\": \"from\",\r\n    \"ieee\": \"IEEE\",\r\n    \"in\": \"in\",\r\n    \"not\": \"not\",\r\n    \"of\": \"of\",\r\n    \"or\": \"or\",\r\n    \"on\": \"on\",\r\n    \"the\": \"the\",\r\n    \"their\": \"their\",\r\n    \"through\": \"through\",\r\n    \"to\": \"to\",\r\n    \"with\": \"with\",\r\n    \"within\": \"within\",\r\n}","<template>\r\n  <div id=\"app\">\r\n    <HeaderPanel\r\n      id=\"header\"\r\n      :isMobile=\"isMobile\"\r\n      :selectedPublicationsCount=\"selectedPublications.length\"\r\n      :excludedPublicationsCount=\"excludedPublicationsDois.size\"\r\n      v-on:exportSession=\"exportSession\"\r\n      v-on:exportBibtex=\"exportAllBibtex\"\r\n      v-on:clearSession=\"clearSession\"\r\n      v-on:clearCache=\"clearCache\"\r\n      v-on:openAbout=\"isAboutPageShown = true\"\r\n      v-on:openKeyboardControls=\"isKeyboardControlsShown = true\"\r\n    />\r\n    <div\r\n      id=\"main\"\r\n      @click=\"clearActivePublication('clicked anywhere')\"\r\n      :class=\"{ 'network-expanded': isNetworkExpanded }\"\r\n    >\r\n      <SelectedPublicationsComponent\r\n        id=\"selected\"\r\n        ref=\"selected\"\r\n        :publications=\"selectedPublications\"\r\n        v-on:add=\"addPublicationsToSelection\"\r\n        v-on:startSearching=\"startSearchingSelected\"\r\n        v-on:searchEndedWithoutResult=\"endLoading\"\r\n        v-on:openSearch=\"openSearch\"\r\n        v-on:remove=\"removePublication\"\r\n        v-on:activate=\"activatePublicationComponentByDoi\"\r\n        v-on:showAbstract=\"showAbstract\"\r\n        v-on:exportSingleBibtex=\"exportSingleBibtex\"\r\n        v-on:updateBoost=\"updateBoost\"\r\n        v-on:loadExample=\"loadExample\"\r\n        v-on:importSession=\"importSession\"\r\n      />\r\n      <SuggestedPublicationsComponent\r\n        id=\"suggested\"\r\n        ref=\"suggested\"\r\n        :suggestion=\"suggestion\"\r\n        v-on:add=\"addPublicationsToSelection\"\r\n        v-on:remove=\"removePublication\"\r\n        v-on:activate=\"activatePublicationComponentByDoi\"\r\n        v-on:showAbstract=\"showAbstract\"\r\n        v-on:exportSingleBibtex=\"exportSingleBibtex\"\r\n        v-on:loadMore=\"loadMoreSuggestions\"\r\n      />\r\n      <NetworkVisComponent\r\n        id=\"network\"\r\n        ref=\"network\"\r\n        :selectedPublications=\"selectedPublications\"\r\n        :suggestedPublications=\"suggestion ? suggestion.publications : []\"\r\n        :isExpanded=\"isNetworkExpanded\"\r\n        :svgWidth=\"1500\"\r\n        :svgHeight=\"600\"\r\n        v-on:activate=\"activatePublicationComponentByDoi\"\r\n        v-on:expand=\"isNetworkExpanded = true\"\r\n        v-on:collapse=\"isNetworkExpanded = false\"\r\n      />\r\n    </div>\r\n    <QuickAccessBar id=\"quick-access\" class=\"is-hidden-desktop\" />\r\n    <b-modal v-model=\"isSearchPanelShown\">\r\n      <SearchPanel\r\n        :initialSearchQuery=\"searchQuery\"\r\n        :selectedPublicationsDois=\"selectedPublicationsDois\"\r\n        v-on:add=\"addPublicationsToSelection\"\r\n        v-on:searchEmpty=\"notifySearchEmpty\"\r\n      />\r\n    </b-modal>\r\n    <b-modal v-model=\"isAboutPageShown\">\r\n      <AboutPage />\r\n    </b-modal>\r\n    <b-modal v-model=\"isKeyboardControlsShown\">\r\n      <KeyboardControlsPage />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<!---------------------------------------------------------------------------------->\r\n\r\n<script>\r\nimport HeaderPanel from \"./components/HeaderPanel.vue\";\r\nimport SelectedPublicationsComponent from \"./components/SelectedPublicationsComponent.vue\";\r\nimport SuggestedPublicationsComponent from \"./components/SuggestedPublicationsComponent.vue\";\r\nimport NetworkVisComponent from \"./components/NetworkVisComponent.vue\";\r\nimport QuickAccessBar from \"./components/QuickAccessBar.vue\";\r\nimport SearchPanel from \"./components/SearchPanel.vue\";\r\nimport AboutPage from \"./components/AboutPage.vue\";\r\nimport KeyboardControlsPage from \"./components/KeyboardControlsPage.vue\";\r\n\r\nimport Publication from \"./Publication.js\";\r\nimport { saveAsFile } from \"./Util.js\";\r\nimport { clearCache } from \"./Cache.js\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    HeaderPanel,\r\n    SelectedPublicationsComponent,\r\n    SuggestedPublicationsComponent,\r\n    NetworkVisComponent,\r\n    QuickAccessBar,\r\n    SearchPanel,\r\n    AboutPage,\r\n    KeyboardControlsPage,\r\n  },\r\n  data() {\r\n    return {\r\n      selectedPublications: [],\r\n      suggestedPublications: [],\r\n      suggestion: undefined,\r\n      maxSuggestions: 50,\r\n      boostKeywords: [],\r\n      searchQuery: \"\",\r\n      excludedPublicationsDois: new Set(),\r\n      readPublicationsDois: new Set(),\r\n      activePublication: undefined,\r\n      isSearchPanelShown: false,\r\n      isAboutPageShown: false,\r\n      isKeyboardControlsShown: false,\r\n      isNetworkExpanded: false,\r\n      isLoading: false,\r\n      loadingComponent: undefined,\r\n      isOverlay: false,\r\n    };\r\n  },\r\n  computed: {\r\n    isMobile: function () {\r\n      return window.innerWidth <= 1023;\r\n    },\r\n    selectedPublicationsDois: function () {\r\n      return this.selectedPublications.map((publication) => publication.doi);\r\n    },\r\n  },\r\n  methods: {\r\n    startSearchingSelected: function () {\r\n      this.startLoading();\r\n      this.updateLoadingToast(\r\n        \"Searching for publication with matching title\",\r\n        \"is-primary\"\r\n      );\r\n    },\r\n\r\n    addPublicationsToSelection: async function (dois) {\r\n      console.log(`Adding to selection publications with DOIs: ${dois}.`);\r\n      document.activeElement.blur();\r\n      if (typeof dois === \"string\") {\r\n        dois = [dois];\r\n      }\r\n      let addedPublicationsCount = 0;\r\n      let addedDoi = \"\";\r\n      dois.forEach((doi) => {\r\n        doi = doi.toLowerCase();\r\n        if (this.excludedPublicationsDois.has(doi)) {\r\n          this.excludedPublicationsDois.delete(doi);\r\n        }\r\n        if (!publications[doi]) {\r\n          publications[doi] = new Publication(doi);\r\n          addedDoi = doi;\r\n          addedPublicationsCount++;\r\n        }\r\n      });\r\n      if (addedPublicationsCount > 0) {\r\n        await this.updateSuggestions();\r\n        if (addedPublicationsCount == 1) {\r\n          this.activatePublicationComponentByDoi(addedDoi);\r\n        }\r\n        this.$buefy.toast.open({\r\n          message: `Added ${\r\n            addedPublicationsCount === 1\r\n              ? \"a publication\"\r\n              : addedPublicationsCount + \" publications\"\r\n          } to selected`,\r\n        });\r\n      } else {\r\n        this.$buefy.toast.open({\r\n          message: `Publication${\r\n            dois.length > 1 ? \"s\" : \"\"\r\n          } already in selected`,\r\n        });\r\n        this.endLoading();\r\n      }\r\n    },\r\n\r\n    removePublication: async function (doi) {\r\n      this.excludedPublicationsDois.add(doi);\r\n      delete publications[doi];\r\n      await this.updateSuggestions();\r\n      this.$buefy.toast.open({\r\n        message: `Excluded a publication`,\r\n      });\r\n    },\r\n\r\n    updateSuggestions: async function (maxSuggestions = 50) {\r\n      this.maxSuggestions = maxSuggestions;\r\n      this.startLoading();\r\n      let publicationsLoaded = 0;\r\n      this.updateLoadingToast(\r\n        `${publicationsLoaded}/${\r\n          Object.keys(publications).length\r\n        } selected publications loaded`,\r\n        \"is-primary\"\r\n      );\r\n      this.clearActivePublication(\"updating suggestions\");\r\n      await Promise.all(\r\n        Object.values(publications).map(async (publication) => {\r\n          await publication.fetchData();\r\n          publication.isSelected = true;\r\n          publicationsLoaded++;\r\n          this.updateLoadingToast(\r\n            `${publicationsLoaded}/${\r\n              Object.keys(publications).length\r\n            } selected publications loaded`,\r\n            \"is-primary\"\r\n          );\r\n        })\r\n      );\r\n      this.suggestion = await Publication.computeSuggestions(\r\n        publications,\r\n        this.excludedPublicationsDois,\r\n        this.boostKeywords,\r\n        this.updateLoadingToast,\r\n        this.maxSuggestions\r\n      );\r\n      this.suggestion.publications.forEach((publication) => {\r\n        publication.isRead = this.readPublicationsDois.has(publication.doi);\r\n      });\r\n      this.selectedPublications = Object.values(publications);\r\n      Publication.sortPublications(this.selectedPublications);\r\n      this.$refs.network.plot(true);\r\n      this.endLoading();\r\n    },\r\n\r\n    loadMoreSuggestions: function () {\r\n      this.updateSuggestions(this.maxSuggestions + 50);\r\n    },\r\n\r\n    updateBoost: async function (\r\n      boostKeywordString,\r\n      preventUpdateSuggestions = false\r\n    ) {\r\n      this.boostKeywords = boostKeywordString.toLowerCase().split(/,\\s*/);\r\n      if (!preventUpdateSuggestions) {\r\n        await this.updateSuggestions();\r\n      }\r\n    },\r\n\r\n    setBoostKeywords: async function (boostKeywordString) {\r\n      this.$refs.selected.setBoost(boostKeywordString);\r\n      this.updateBoost(boostKeywordString, true);\r\n    },\r\n\r\n    setActivePublication: function (doi) {\r\n      this.clearActivePublication(\"setting active publication\");\r\n      this.selectedPublications.forEach((selectedPublication) => {\r\n        selectedPublication.isActive = selectedPublication.doi === doi;\r\n        if (selectedPublication.isActive) {\r\n          this.activePublication = selectedPublication;\r\n          this.selectedPublications.forEach((publication) => {\r\n            publication.isLinkedToActive =\r\n              selectedPublication.citationDois.indexOf(publication.doi) >= 0 ||\r\n              selectedPublication.referenceDois.indexOf(publication.doi) >= 0;\r\n          });\r\n          this.suggestion.publications.forEach((publication) => {\r\n            publication.isLinkedToActive =\r\n              selectedPublication.citationDois.indexOf(publication.doi) >= 0 ||\r\n              selectedPublication.referenceDois.indexOf(publication.doi) >= 0;\r\n          });\r\n        }\r\n      });\r\n      this.suggestion.publications.forEach((suggestedPublication) => {\r\n        suggestedPublication.isActive = suggestedPublication.doi === doi;\r\n        if (suggestedPublication.isActive) {\r\n          suggestedPublication.isRead = true;\r\n          this.readPublicationsDois.add(doi);\r\n          this.activePublication = suggestedPublication;\r\n          this.selectedPublications.forEach((publication) => {\r\n            publication.isLinkedToActive =\r\n              suggestedPublication.citationDois.indexOf(publication.doi) >= 0 ||\r\n              suggestedPublication.referenceDois.indexOf(publication.doi) >= 0;\r\n          });\r\n        }\r\n      });\r\n      console.log(`Highlighted as active publication with DOI ${doi}.`);\r\n    },\r\n\r\n    clearActivePublication: function (source) {\r\n      this.activePublication = undefined;\r\n      this.selectedPublications\r\n        .concat(this.suggestion ? this.suggestion.publications : [])\r\n        .forEach((publication) => {\r\n          publication.isActive = false;\r\n          publication.isLinkedToActive = false;\r\n        });\r\n      console.log(\r\n        `Cleared any highlighted active publication, triggered by \"${source}\".`\r\n      );\r\n    },\r\n\r\n    activatePublicationComponent: function (publicationComponent) {\r\n      if (publicationComponent) {\r\n        publicationComponent.focus();\r\n      }\r\n    },\r\n\r\n    activatePublicationComponentByDoi: function (doi) {\r\n      console.log(publications[doi])\r\n      if (doi !== this.activePublication?.doi) {\r\n        this.activatePublicationComponent(document.getElementById(doi));\r\n        this.setActivePublication(doi);\r\n      }\r\n    },\r\n\r\n    startLoading: function () {\r\n      if (this.isLoading) return;\r\n      this.loadingComponent = this.$buefy.loading.open({\r\n        container: null,\r\n      });\r\n      this.isLoading = true;\r\n    },\r\n\r\n    endLoading: function () {\r\n      this.isLoading = false;\r\n      if (this.loadingToast) {\r\n        this.loadingToast.close();\r\n        this.loadingToast = null;\r\n      }\r\n      if (this.loadingComponent) {\r\n        this.loadingComponent.close();\r\n        this.loadingComponent = null;\r\n      }\r\n    },\r\n\r\n    updateLoadingToast: function (message, type) {\r\n      if (!this.loadingToast) {\r\n        this.loadingToast = this.$buefy.toast.open({\r\n          indefinite: true,\r\n        });\r\n      }\r\n      this.loadingToast.message = message;\r\n      this.loadingToast.type = type;\r\n    },\r\n\r\n    openSearch: function (query, message) {\r\n      this.searchQuery = query;\r\n      this.isSearchPanelShown = true;\r\n      if (message) {\r\n        this.$buefy.toast.open({\r\n          duration: 5000,\r\n          message: message,\r\n          type: \"is-primary\",\r\n        });\r\n      }\r\n    },\r\n\r\n    notifySearchEmpty: function() {\r\n      this.$buefy.toast.open({\r\n          duration: 5000,\r\n          message: \"No matching publications found\",\r\n          type: \"is-danger\",\r\n        });\r\n    },\r\n\r\n    showAbstract: function (publication) {\r\n      const _this = this;\r\n      const onClose = function() {\r\n        _this.isOverlay = false;\r\n        _this.activatePublicationComponent(document.getElementById(publication.doi));\r\n      }\r\n      this.isOverlay = true;\r\n      this.$buefy.dialog.alert({\r\n        message: `<div><b>${publication.title}</b></div><div><i>${publication.abstract}</i></div>`,\r\n        type: \"is-dark\",\r\n        hasIcon: true,\r\n        icon: \"text\",\r\n        confirmText: \"Close\",\r\n        canCancel: [\"escape\", \"outside\"],\r\n        onConfirm: onClose,\r\n        onCancel: onClose,\r\n      });\r\n    },\r\n\r\n    exportSession: function () {\r\n      let data = {\r\n        selected: Object.keys(publications),\r\n        excluded: Array.from(this.excludedPublicationsDois),\r\n        boost: this.boostKeywords.join(\", \"),\r\n      };\r\n      saveAsFile(\"session.json\", JSON.stringify(data));\r\n    },\r\n\r\n    importSession: function (file) {\r\n      const fileReader = new FileReader();\r\n      fileReader.onload = () => {\r\n        try {\r\n          const content = fileReader.result;\r\n          const session = JSON.parse(content);\r\n          this.loadSession(session);\r\n        } catch {\r\n          this.showErrorMessage(`Cannot read JSON from file.`);\r\n        }\r\n      };\r\n      fileReader.readAsText(file);\r\n    },\r\n\r\n    exportAllBibtex: function () {\r\n      this.exportBibtex(this.selectedPublications);\r\n    },\r\n\r\n    exportSingleBibtex: function (publication) {\r\n      this.exportBibtex([publication]);\r\n    },\r\n\r\n    exportBibtex: function (publicationList) {\r\n      let bib = \"\";\r\n      publicationList.forEach(\r\n        (publication) => (bib += publication.toBibtex() + \"\\n\\n\")\r\n      );\r\n      saveAsFile(\"publications.bib\", bib);\r\n    },\r\n\r\n    clearSession: function () {\r\n      this.isOverlay = true;\r\n      this.$buefy.dialog.confirm({\r\n        message:\r\n          \"You are going to clear all selected articles and jump back to the initial state.\",\r\n        onConfirm: () => {\r\n          publications = {};\r\n          this.selectedPublications = [];\r\n          this.excludedPublicationsDois = new Set();\r\n          this.readPublicationsDois = new Set();\r\n          this.setBoostKeywords(\"\");\r\n          this.updateSuggestions();\r\n          this.isOverlay = false;\r\n        },\r\n        onCancel: () => {\r\n          this.isOverlay = false;\r\n        },\r\n      });\r\n    },\r\n\r\n    clearCache: function () {\r\n      clearCache();\r\n      this.clearSession();\r\n    },\r\n\r\n    loadSession: function (session) {\r\n      console.log(`Loading session ${JSON.stringify(session)}`);\r\n      if (!session || !session.selected) {\r\n        this.showErrorMessage(\"Cannot read session state from JSON.\");\r\n        return;\r\n      }\r\n      if (session.boost) {\r\n        this.setBoostKeywords(session.boost);\r\n      }\r\n      if (session.excluded) {\r\n        this.excludedPublicationsDois = new Set(session.excluded);\r\n      }\r\n      this.addPublicationsToSelection(session.selected);\r\n    },\r\n\r\n    loadExample: function () {\r\n      const session = {\r\n        selected: [\r\n          \"10.1109/tvcg.2015.2467757\",\r\n          \"10.1109/tvcg.2015.2467621\",\r\n          \"10.1002/asi.24171\",\r\n        ],\r\n        boost: \"cit, vis\",\r\n      };\r\n      this.loadSession(session);\r\n    },\r\n\r\n    showErrorMessage: function (errorMessage) {\r\n      this.$buefy.toast.open({\r\n        duration: 5000,\r\n        message: errorMessage,\r\n        type: \"is-danger\",\r\n      });\r\n      console.error(errorMessage);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this._keyListener = function (e) {\r\n      if (\r\n        e.ctrlKey ||\r\n        e.shiftKey ||\r\n        e.metaKey ||\r\n        (e.repeat && !(e.key === \"ArrowDown\" || e.key === \"ArrowUp\"))\r\n      ) {\r\n        return;\r\n      } else if (\r\n        this.isLoading ||\r\n        this.isOverlay ||\r\n        this.isSearchPanelShown &\r\n          (document.activeElement.nodeName != \"INPUT\") ||\r\n        this.isAboutPageShown ||\r\n        this.isKeyboardControlsShown\r\n      ) {\r\n        e.preventDefault();\r\n        return;\r\n      } else if (document.activeElement.nodeName === \"INPUT\") {\r\n        if (e.key === \"Escape\") {\r\n          document.activeElement.blur();\r\n        } else {\r\n          return;\r\n        }\r\n      } else if (e.key === \"c\") {\r\n        e.preventDefault();\r\n        this.clearSession();\r\n      } else if (e.key === \"Escape\") {\r\n        e.preventDefault();\r\n        document.activeElement.blur();\r\n        this.clearActivePublication(\"escape key\");\r\n      } else if (e.key === \"a\") {\r\n        e.preventDefault();\r\n        this.clearActivePublication(\"setting focus on text field\");\r\n        document.getElementsByClassName(\"input add-publication\")[0].focus();\r\n      } else if (e.key === \"s\") {\r\n        e.preventDefault();\r\n        this.isSearchPanelShown = true;\r\n      } else if (e.key === \"b\") {\r\n        e.preventDefault();\r\n        this.clearActivePublication(\"setting focus on text field\");\r\n        document.getElementsByClassName(\"input boost\")[0].focus();\r\n      } else if (e.key === \"m\") {\r\n        e.preventDefault();\r\n        this.$refs.network.toggleMode();\r\n      } else if (e.key === \"ArrowLeft\") {\r\n        e.preventDefault();\r\n        this.activatePublicationComponent(\r\n          document\r\n            .getElementById(\"selected\")\r\n            .getElementsByClassName(\"publication-component\")[0]\r\n        );\r\n      } else if (e.key === \"ArrowRight\") {\r\n        e.preventDefault();\r\n        this.activatePublicationComponent(\r\n          document\r\n            .getElementById(\"suggested\")\r\n            .getElementsByClassName(\"publication-component\")[0]\r\n        );\r\n      } else if (this.activePublication) {\r\n        if (e.key === \"ArrowDown\" || e.key === \"ArrowUp\") {\r\n          e.preventDefault();\r\n          const activePublicationComponent = document.getElementsByClassName(\r\n            \"publication-component active\"\r\n          )[0];\r\n          this.activatePublicationComponent(\r\n            e.key === \"ArrowDown\"\r\n              ? activePublicationComponent.nextSibling\r\n              : activePublicationComponent.previousSibling\r\n          );\r\n        } else if (e.key === \"+\") {\r\n          e.preventDefault();\r\n          this.addPublicationsToSelection(this.activePublication.doi);\r\n        } else if (e.key === \"-\") {\r\n          e.preventDefault();\r\n          this.removePublication(this.activePublication.doi);\r\n        } else if (e.key === \"d\") {\r\n          e.preventDefault();\r\n          window.open(this.activePublication.doiUrl);\r\n        } else if (e.key === \"t\" && this.activePublication.abstract) {\r\n          e.preventDefault();\r\n          this.showAbstract(this.activePublication);\r\n        } else if (e.key === \"o\" && this.activePublication.oaLink) {\r\n          e.preventDefault();\r\n          window.open(this.activePublication.oaLink);\r\n        } else if (e.key === \"g\") {\r\n          e.preventDefault();\r\n          window.open(this.activePublication.gsUrl);\r\n        } else if (e.key === \"x\") {\r\n          e.preventDefault();\r\n          this.exportSingleBibtex(this.activePublication);\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", this._keyListener.bind(this));\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener(\"keydown\", this._keyListener);\r\n  },\r\n};\r\n\r\n// triggers a prompt before closing/reloading the page\r\nwindow.onbeforeunload = function () {\r\n  return \"\";\r\n};\r\n\r\nlet publications = {};\r\n</script>\r\n\r\n<!---------------------------------------------------------------------------------->\r\n\r\n<style lang=\"scss\">\r\n@import \"~bulma/sass/utilities/_all\";\r\n\r\n$block-spacing: 0.5rem;\r\n$box-padding: 1rem;\r\n\r\n@import \"~bulma\";\r\n@import \"~buefy/src/scss/buefy\";\r\n\r\n#app {\r\n  display: grid;\r\n  grid-template-areas:\r\n    \"header\"\r\n    \"main\";\r\n  height: 100vh;\r\n  grid-template-rows: max-content auto;\r\n\r\n  & #header {\r\n    grid-area: header;\r\n  }\r\n\r\n  & #main {\r\n    grid-area: main;\r\n    margin: 0.5rem;\r\n    display: grid;\r\n    grid-template-areas:\r\n      \"selected suggested\"\r\n      \"vis vis\";\r\n    height: calc(100% - 1rem);\r\n    overflow: auto;\r\n\r\n    grid-template-columns: 50fr 50fr;\r\n    grid-template-rows: auto 35vh;\r\n    gap: $block-spacing;\r\n\r\n    &.network-expanded {\r\n      grid-template-rows: auto 65vh;\r\n    }\r\n\r\n    & #selected {\r\n      grid-area: selected;\r\n      overflow-y: hidden;\r\n    }\r\n\r\n    & #suggested {\r\n      grid-area: suggested;\r\n      overflow-y: hidden;\r\n    }\r\n\r\n    & #network {\r\n      grid-area: vis;\r\n    }\r\n\r\n    & > div {\r\n      margin: 0;\r\n    }\r\n  }\r\n\r\n  & .compact-button {\r\n    background: transparent;\r\n    color: $white;\r\n    height: 1.5rem;\r\n    margin-right: 0 !important;\r\n    margin-left: 1rem;\r\n    padding: 0.5rem;\r\n\r\n    &:hover {\r\n      color: $light;\r\n    }\r\n  }\r\n}\r\n\r\n// placed outside the #app scope to apply to tooltips also\r\n.key {\r\n  text-decoration: underline;\r\n}\r\n\r\n.unknown {\r\n  color: $danger;\r\n}\r\n\r\n@include touch {\r\n  #app {\r\n    display: block;\r\n    margin-bottom: 5rem;\r\n\r\n    & #main {\r\n      display: block;\r\n      margin: 0;\r\n      overflow: scroll;\r\n      height: auto;\r\n\r\n      & > div {\r\n        margin: 0.25rem;\r\n        padding: 0.5rem;\r\n      }\r\n\r\n      & #selected {\r\n        min-height: 20rem;\r\n      }\r\n\r\n      & #suggested {\r\n        min-height: 20rem;\r\n      }\r\n\r\n      & #network .box {\r\n        min-height: 70vh;\r\n      }\r\n\r\n      & .level-left + .level-right {\r\n        margin-top: 0.5rem;\r\n      }\r\n\r\n      /* Empty space for quick access buttons; used \"::after\" instead of plain margin-bottom as workaround for Chrome */\r\n      &::after {\r\n        content: \"\";\r\n        min-height: 4rem;\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    #quick-access {\r\n      position: fixed;\r\n      bottom: 0.5rem;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  // placed outside the #app scope to apply to tooltips also\r\n  .key {\r\n    text-decoration: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a7cf798a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=a7cf798a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport {version} from './../package.json';\r\n\r\nimport '@mdi/font/css/materialdesignicons.css'\r\nimport Buefy from 'buefy'\r\nVue.use(Buefy, { defaultIconPack: 'mdi' })\r\n\r\nimport VueTippy, { TippyComponent } from \"vue-tippy\";\r\nVue.use(VueTippy, {\r\n  maxWidth: 'min(400px,70vw)'\r\n});\r\n// eslint-disable-next-line vue/multi-word-component-names\r\nVue.component(\"tippy\", TippyComponent);\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.prototype.$appName = \"PURE suggest\";\r\nVue.prototype.$appNameHtml = '<span class=\"has-text-primary\">PURE&nbsp;</span><span class=\"has-text-info\">suggest</span>';\r\nVue.prototype.$appSubtitle = \"Citation-based literature search\"\r\nVue.prototype.$version = version;\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuickAccessBar.vue?vue&type=style&index=0&id=7e9c2158&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPage.vue?vue&type=style&index=0&id=6bd7ac54&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectedPublicationsComponent.vue?vue&type=style&index=0&id=6c9dec56&prod&lang=scss&scoped=true&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=a7cf798a&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationComponent.vue?vue&type=style&index=0&id=4e43e41c&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderPanel.vue?vue&type=style&index=0&id=df3df0ae&prod&lang=scss&scoped=true&\""],"sourceRoot":""}